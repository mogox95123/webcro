!function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"getCookieExpiresString",value:function(e){var t=new Date,n=new Date(t.getTime()+e);return"expires=".concat(n.toGMTString(),";")}},{key:"bake",value:function(t,n){document.cookie="smartbanner_exited=1; ".concat(t?e.getCookieExpiresString(t):""," path=").concat(n)}},{key:"unbake",value:function(){document.cookie="smartbanner_exited=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}},{key:"baked",get:function(){return"1"===document.cookie.replace(/(?:(?:^|.*;\s*)smartbanner_exited\s*=\s*([^;]*).*$)|^.*$/,"$1")}}],(n=null)&&r(t.prototype,n),i&&r(t,i),e}();n.default=i},{}],2:[function(e,t,n){(function(e){"use strict";function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)}var r,i,a;return r=n,a=[{key:"platform",value:function(){return/iPhone|iPad|iPod/i.test(window.navigator.userAgent)?"ios":/Android/i.test(window.navigator.userAgent)?"android":void 0}},{key:"userAgentMatchesRegex",value:function(e){return new RegExp(e).test(window.navigator.userAgent)}},{key:"jQueryMobilePage",value:function(){return void 0!==e.$&&"undefined"!==e.$.mobile&&null!==document.querySelector(".ui-page")}},{key:"wrapperElement",value:function(){var e=n.jQueryMobilePage()?".ui-page":"html";return document.querySelectorAll(e)}}],(i=null)&&t(r.prototype,i),a&&t(r,a),n}();n.default=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){"use strict";var r;(new(((r=e("./smartbanner.js"))&&r.__esModule?r:{default:r}).default)).publish()},{"./smartbanner.js":5}],4:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"parse",value:function(){var e=document.getElementsByTagName("meta"),t={};return Array.apply(null,e).forEach(function(e){var n=null,r=e.getAttribute("name"),i=e.getAttribute("content"),a=e.getAttribute("lang"),o=__cultureInfo?__cultureInfo.name:window.navigator.userLanguage||window.navigator.language;o&&o.length>2&&(o=o.substring(0,2)),r&&i&&function(e){return-1!==e.indexOf("smartbanner:")&&e.split(":")[1].length>0}(r)&&i.length>0&&(!a||a===o)&&(-1!==(n=r.split(":")[1]).indexOf("-")&&(n=function(e){var t=e.split("-");return t.map(function(e,n){n>0&&(t[n]=e.charAt(0).toUpperCase()+e.substring(1))}),t.join("")}(n)),t[n]=i)}),t}}])&&r(t.prototype,n),i&&r(t,i),e}();n.default=i},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(e("./optionparser.js")),i=o(e("./detector.js")),a=o(e("./bakery.js"));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u={originalTop:"data-smartbanner-original-top",originalMarginTop:"data-smartbanner-original-margin-top"};function l(e){this.positioningDisabled||c(e.data.height)}function c(e){for(var t,n=i.default.wrapperElement(),r=0,a=n.length;r<a;r++)if(t=n[r],i.default.jQueryMobilePage()){if(t.getAttribute(u.originalTop))continue;var o=parseFloat(getComputedStyle(t).top);t.setAttribute(u.originalTop,isNaN(o)?0:o),t.style.top=e+"px"}else{if(t.getAttribute(u.originalMarginTop))continue;var s=parseFloat(getComputedStyle(t).marginTop);t.setAttribute(u.originalMarginTop,isNaN(s)?0:s),t.style.marginTop=e+"px"}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=new r.default;this.options=t.parse(),this.platform=i.default.platform()}var t,n,o;return t=e,(n=[{key:"publish",value:function(){if(0===Object.keys(this.options).length)throw new Error("No options detected. Please consult documentation.");if(a.default.baked)return!1;if(this.userAgentExcluded)return!1;if(!this.platformEnabled&&!this.userAgentIncluded)return!1;$(".header").addClass("header-notification");var e=$(".menu-right");if(e){e.hasClass("smartbanner-enabled")||e.addClass("smartbanner-enabled");var t=e.find(".menu-inside-scroll");t&&!t.hasClass("smartbanner-enabled")&&t.addClass("smartbanner-enabled")}var n=document.createElement("div");document.querySelector("body").appendChild(n),n.outerHTML=this.html;var r,o=new Event("smartbanner.view");document.dispatchEvent(o),this.positioningDisabled||c(this.height),r=this,document.querySelector(".js_smartbanner__exit").addEventListener("click",function(e){$(".header").removeClass("header-notification");var t=$(".menu-right");if(t){t.hasClass("smartbanner-enabled")&&t.removeClass("smartbanner-enabled");var n=t.find(".menu-inside-scroll");n&&n.hasClass("smartbanner-enabled")&&n.removeClass("smartbanner-enabled")}return function(e,t){t.exit(),e.preventDefault()}(e,r)}),i.default.jQueryMobilePage()&&$(document).on("pagebeforeshow",r,l)}},{key:"exit",value:function(){i.default.jQueryMobilePage()&&$(document).off("pagebeforeshow",l),this.positioningDisabled||function(){for(var e,t=i.default.wrapperElement(),n=0,r=t.length;n<r;n++)e=t[n],i.default.jQueryMobilePage()&&e.getAttribute(u.originalTop)?e.style.top=e.getAttribute(u.originalTop)+"px":e.getAttribute(u.originalMarginTop)&&(e.style.marginTop=e.getAttribute(u.originalMarginTop)+"px")}();var e=document.querySelector(".js_smartbanner");document.querySelector("body").removeChild(e);var t=new Event("smartbanner.exit");document.dispatchEvent(t),a.default.bake(this.hideTtl,this.hidePath)}},{key:"originalTop",get:function(){var e=i.default.wrapperElement()[0];return parseFloat(e.getAttribute(u.originalTop))}},{key:"originalTopMargin",get:function(){var e=i.default.wrapperElement()[0];return parseFloat(e.getAttribute(u.originalMarginTop))}},{key:"priceSuffix",get:function(){return"ios"===this.platform?this.options.priceSuffixApple:"android"===this.platform?this.options.priceSuffixGoogle:""}},{key:"icon",get:function(){return"android"===this.platform?this.options.iconGoogle:this.options.iconApple}},{key:"buttonUrl",get:function(){return"android"===this.platform?this.options.buttonUrlGoogle:"ios"===this.platform?this.options.buttonUrlApple:"#"}},{key:"html",get:function(){var e=this.options.customDesignModifier?this.options.customDesignModifier:this.platform;return'<div class="smartbanner smartbanner--'.concat(e,' js_smartbanner">\n      <a href="javascript:void();" class="smartbanner__exit js_smartbanner__exit"></a>\n      <div class="smartbanner__icon" style="background-image: url(').concat(this.icon,');"></div>\n      <div class="smartbanner__info">\n        <div>\n          <div class="smartbanner__info__title">').concat(this.options.title,'</div>\n          <div class="smartbanner__info__author">').concat(this.options.author,'</div>\n          <div class="smartbanner__info__price">').concat(this.options.price).concat(this.priceSuffix,'</div>\n        </div>\n      </div>\n      <a href="').concat(this.buttonUrl,'" target="_blank" rel="noopener noreferrer" class="smartbanner__button"><span class="smartbanner__button__label">').concat(this.options.button,"</span></a>\n    </div>")}},{key:"height",get:function(){var e=document.querySelector(".js_smartbanner").offsetHeight;return void 0!==e?e:0}},{key:"platformEnabled",get:function(){var e=this.options.enabledPlatforms||"android,ios";return e&&-1!==e.replace(/\s+/g,"").split(",").indexOf(this.platform)}},{key:"positioningDisabled",get:function(){return"true"===this.options.disablePositioning}},{key:"userAgentExcluded",get:function(){return!!this.options.excludeUserAgentRegex&&i.default.userAgentMatchesRegex(this.options.excludeUserAgentRegex)}},{key:"userAgentIncluded",get:function(){return!!this.options.includeUserAgentRegex&&i.default.userAgentMatchesRegex(this.options.includeUserAgentRegex)}},{key:"hideTtl",get:function(){return!!this.options.hideTtl&&parseInt(this.options.hideTtl)}},{key:"hidePath",get:function(){return this.options.hidePath?this.options.hidePath:"/"}}])&&s(t.prototype,n),o&&s(t,o),e}();n.default=d},{"./bakery.js":1,"./detector.js":2,"./optionparser.js":4}]},{},[3]);