//tealium universal tag - utag.loader ut4.0.201906281451, Copyright 2019 Tealium.com Inc. All Rights Reserved.
var utag_condload=false;try{(function(){function ul(src,a,b){a=document;b=a.createElement('script');b.language='javascript';b.type='text/javascript';b.src=src;a.getElementsByTagName('head')[0].appendChild(b)};if((""+document.cookie).match("utag_env_meridian_main=(\/\/tags\.tiqcdn\.com\/utag\/meridian\/[^\S;]*)")){if(RegExp.$1.indexOf("/prod/")===-1){var s=RegExp.$1;while(s.indexOf("%")!=-1){s=decodeURIComponent(s);}s=s.replace(/\.\./g,"");ul(s);utag_condload=true;__tealium_default_path='//tags.tiqcdn.com/utag/meridian/main/prod/';}}})();}catch(e){};try{try{window.utag_data=window.utag_data||{error:"No UDO available on a page",page_type:"Not Provided",page_section:"Not Provided",page_name:"Not Provided",page_subsection:"Not Provided",language_code:"en"};}catch(e){utag.DB(e)}}catch(e){};if(!utag_condload){try{try{var persistentStorage={};persistentStorage.useLocalStorage=true;persistentStorage.useCookies=true;persistentStorage.localStorageSupported=false;if(typeof(Storage)!=="undefined"){persistentStorage.localStorageSupported=true;}
persistentStorage.writeCookie=function(cookiename,val,expiry){var exp=new Date(new Date().getTime()+expiry),hostname=window.location.hostname;hostname=hostname.split(".").slice(-1*2).join(".");document.cookie=cookiename+'='+val+';domain='+hostname+'; path=/; expires='+exp.toGMTString()+';';}
persistentStorage.readCookie=function(cookiename){var cookiebits=document.cookie.split(";");var cookieobjbykey={};for(var i=0;i<cookiebits.length;i++){cookiebits[i]=cookiebits[i].trim();var cookiecrumbs=cookiebits[i].split("=");cookieobjbykey[cookiecrumbs[0]]=decodeURIComponent(cookiecrumbs[1]);}
if(!!cookieobjbykey[cookiename]){return cookieobjbykey[cookiename];}
return false;}
persistentStorage.set=function(key,val){var result=false;if(!!key&&!!val){var jsonval=JSON.stringify(val);if(!!persistentStorage.localStorageSupported&&!!persistentStorage.useLocalStorage){localStorage.setItem(key,jsonval);result=true;}
if(!!persistentStorage.useCookies){var expiry=(1000*60*60*24*365*2);persistentStorage.writeCookie(key,jsonval,expiry);result=true;}}
return result;}
persistentStorage.get=function(key){if(!!key){var localstorageval=undefined;var cookieval=undefined;if(!!persistentStorage.localStorageSupported&&!!persistentStorage.useLocalStorage){localstorageval=localStorage.getItem(key);if(!!localstorageval){localstorageval=JSON.parse(localstorageval);}}
if(!!persistentStorage.useCookies){cookieval=persistentStorage.readCookie(key);if(!!cookieval){cookieval=JSON.parse(cookieval);}}
return cookieval||localstorageval||undefined;}}
persistentStorage.delete=function(key){var result=false;if(!!key){if(!!persistentStorage.localStorageSupported&&!!persistentStorage.useLocalStorage){localStorage.removeItem(key);result=true;}
if(!!persistentStorage.useCookies){var expiry=0;persistentStorage.writeCookie(key,"",expiry);result=true;}}
return result;}}catch(e){utag.DB(e)}}catch(e){}};if(!utag_condload){try{try{if(window.location.href.match(/(lending\.meridiancu\.ca)|(uatbanking\.meridiancu\.ca\/omo\/lending)/i)){var cexpiry=(1000*60*60*24);var mwcookieval=persistentStorage.readCookie("mcu_mw");if(mwcookieval=="1"){persistentStorage.writeCookie("mcu_dl_pids","mortgage",cexpiry);persistentStorage.writeCookie("mcu_mw","",0);}}}catch(e){utag.DB(e)}}catch(e){}};if(!utag_condload){try{try{if(window.location.hostname.indexOf("banking.meridiancu.ca")>-1){var lccookieexpiry=(1000*60*60*24*730);if(!!persistentStorage.readCookie("rob_lc")&&!!persistentStorage.readCookie("rob_c_url")){var lctimestamp=persistentStorage.readCookie("rob_lc");var currentTimestamp=new Date().getTime();var threshold=1000*60*14;var timediff=currentTimestamp-(+lctimestamp);if(timediff>threshold&&window.location.pathname=="/Security"){persistentStorage.writeCookie("rob_stoptracking","true",lccookieexpiry);}else{persistentStorage.writeCookie("rob_stoptracking","",0);}}else{var currentTimestamp=new Date().getTime();persistentStorage.writeCookie("rob_lc",currentTimestamp,lccookieexpiry);persistentStorage.writeCookie("rob_stoptracking","",0);}}}catch(e){utag.DB(e)}}catch(e){}};if(!utag_condload){try{function utag_condloader(src,a,b){a=document;b=a.createElement('script');b.language='javascript';b.type='text/javascript';b.src=src;a.getElementsByTagName('head')[0].appendChild(b)};var utag_lh=location.hostname;if(location.hostname=="qa.meridiancu.ca"||location.hostname=="wwwnew.meridiancu.ca"){utag_condloader('//tags.tiqcdn.com/utag/meridian/main/qa/utag.js');utag_condload=true}
else if(location.hostname=="meridianqa.thrillworks.com"){utag_condloader('//tags.tiqcdn.com/utag/meridian/main/dev/utag.js');utag_condload=true}}catch(e){}};if(!utag_condload){try{try{if(typeof _gaq!=="undefined"){Object.defineProperty(_gaq,"push",{configurable:false,enumerable:false,writable:false,value:function(){if(typeof arguments[0]=="object"){if(arguments[0][0].indexOf("trackEvent")!==-1){utag.link({"event_name":"hardcoderdEvents","event_category":arguments[0][1],"event_action":arguments[0][2],"event_label":arguments[0][3],"event_non_interaction":0});}}}});}}catch(e){utag.DB(e)}}catch(e){}};if(!utag_condload){try{try{var tag=document.createElement('script');tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName('script')[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);if(!window['YT']){var YT={loading:0,loaded:0};}if(!window['YTConfig']){var YTConfig={'host':'http://www.youtube.com'};}if(!YT.loading){YT.loading=1;(function(){var l=[];YT.ready=function(f){if(YT.loaded){f();}else{l.push(f);}};window.onYTReady=function(){YT.loaded=1;for(var i=0;i<l.length;i++){try{l[i]();}catch(e){}}};YT.setConfig=function(c){for(var k in c){if(c.hasOwnProperty(k)){YTConfig[k]=c[k];}}};var a=document.createElement('script');a.id='www-widgetapi-script';a.src='https:'+'//s.ytimg.com/yts/jsbin/www-widgetapi-vflqPH1FZ/www-widgetapi.js';a.async=true;var b=document.getElementsByTagName('script')[0];b.parentNode.insertBefore(a,b);})();}
window.videoplayer;window.onYouTubeIframeAPIReady=function(){videoplayer=new YT.Player('rob_redesign',{events:{'onReady':onPlayerReady,'onStateChange':onPlayerStateChange}});}
window.onPlayerReady=function(event){}
window.onPlayerStateChange=function(event){var percComplete=Math.round((videoplayer.getCurrentTime()/videoplayer.getDuration())*100);var currTime=videoplayer.getCurrentTime();var youtube_url=videoplayer.getVideoUrl();if(event.data==YT.PlayerState.PLAYING){utag.link({"event_category":"Videos","event_action":"play","event_label":youtube_url,"event_value":"1","event_non_interaction":0});}else
if(event.data==YT.PlayerState.PAUSED){utag.link({"event_category":"Videos","event_action":"pause","event_label":youtube_url,"event_value":percComplete,"event_non_interaction":0});}else
if(event.data==YT.PlayerState.ENDED){utag.link({"event_category":"Videos","event_action":"complete","event_label":youtube_url,"event_value":"100"});}}}catch(e){utag.DB(e)}}catch(e){}};if(!utag_condload){try{try{var ajaxBasedWebsiteDomains=['loans.meridiancu.ca','meridian-uat.poweredbygrow.com'];console.log("domain: "+document.location.hostname);if(!!document.location.hostname&&ajaxBasedWebsiteDomains.indexOf(document.location.hostname)>-1){window.utag_cfg_ovrd=window.utag_cfg_ovrd||{};window.utag_cfg_ovrd.noview=true;}}catch(e){utag.DB(e)}}catch(e){}};if(!utag_condload){try{try{var CryptoJS=CryptoJS||function(u,p){var d={},l=d.lib={},s=function(){},t=l.Base={extend:function(a){s.prototype=this;var c=new s;a&&c.mixIn(a);c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},r=l.WordArray=t.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=p?c:4*a.length},toString:function(a){return(a||v).stringify(this)},concat:function(a){var c=this.words,e=a.words,j=this.sigBytes;a=a.sigBytes;this.clamp();if(j%4)for(var k=0;k<a;k++)c[j+k>>>2]|=(e[k>>>2]>>>24-8*(k%4)&255)<<24-8*((j+k)%4);else if(65535<e.length)for(k=0;k<a;k+=4)c[j+k>>>2]=e[k>>>2];else c.push.apply(c,e);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<32-8*(c%4);a.length=u.ceil(c/4)},clone:function(){var a=t.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],e=0;e<a;e+=4)c.push(4294967296*u.random()|0);return new r.init(c,a)}}),w=d.enc={},v=w.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var e=[],j=0;j<a;j++){var k=c[j>>>2]>>>24-8*(j%4)&255;e.push((k>>>4).toString(16));e.push((k&15).toString(16))}return e.join("")},parse:function(a){for(var c=a.length,e=[],j=0;j<c;j+=2)e[j>>>3]|=parseInt(a.substr(j,2),16)<<24-4*(j%8);return new r.init(e,c/2)}},b=w.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var e=[],j=0;j<a;j++)e.push(String.fromCharCode(c[j>>>2]>>>24-8*(j%4)&255));return e.join("")},parse:function(a){for(var c=a.length,e=[],j=0;j<c;j++)e[j>>>2]|=(a.charCodeAt(j)&255)<<24-8*(j%4);return new r.init(e,c)}},x=w.Utf8={stringify:function(a){try{return decodeURIComponent(escape(b.stringify(a)))}catch(c){throw Error("Malformed UTF-8 data");}},parse:function(a){return b.parse(unescape(encodeURIComponent(a)))}},q=l.BufferedBlockAlgorithm=t.extend({reset:function(){this._data=new r.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=x.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,e=c.words,j=c.sigBytes,k=this.blockSize,b=j/(4*k),b=a?u.ceil(b):u.max((b|0)-this._minBufferSize,0);a=b*k;j=u.min(4*a,j);if(a){for(var q=0;q<a;q+=k)this._doProcessBlock(e,q);q=e.splice(0,a);c.sigBytes-=j}return new r.init(q,j)},clone:function(){var a=t.clone.call(this);a._data=this._data.clone();return a},_minBufferSize:0});l.Hasher=q.extend({cfg:t.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){q.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,e){return(new a.init(e)).finalize(b)}},_createHmacHelper:function(a){return function(b,e){return(new n.HMAC.init(a,e)).finalize(b)}}});var n=d.algo={};return d}(Math);(function(){var u=CryptoJS,p=u.lib.WordArray;u.enc.Base64={stringify:function(d){var l=d.words,p=d.sigBytes,t=this._map;d.clamp();d=[];for(var r=0;r<p;r+=3)for(var w=(l[r>>>2]>>>24-8*(r%4)&255)<<16|(l[r+1>>>2]>>>24-8*((r+1)%4)&255)<<8|l[r+2>>>2]>>>24-8*((r+2)%4)&255,v=0;4>v&&r+0.75*v<p;v++)d.push(t.charAt(w>>>6*(3-v)&63));if(l=t.charAt(64))for(;d.length%4;)d.push(l);return d.join("")},parse:function(d){var l=d.length,s=this._map,t=s.charAt(64);t&&(t=d.indexOf(t),-1!=t&&(l=t));for(var t=[],r=0,w=0;w<l;w++)if(w%4){var v=s.indexOf(d.charAt(w-1))<<2*(w%4),b=s.indexOf(d.charAt(w))>>>6-2*(w%4);t[r>>>2]|=(v|b)<<24-8*(r%4);r++}return p.create(t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(u){function p(b,n,a,c,e,j,k){b=b+(n&a|~n&c)+e+k;return(b<<j|b>>>32-j)+n}function d(b,n,a,c,e,j,k){b=b+(n&c|a&~c)+e+k;return(b<<j|b>>>32-j)+n}function l(b,n,a,c,e,j,k){b=b+(n^a^c)+e+k;return(b<<j|b>>>32-j)+n}function s(b,n,a,c,e,j,k){b=b+(a^(n|~c))+e+k;return(b<<j|b>>>32-j)+n}for(var t=CryptoJS,r=t.lib,w=r.WordArray,v=r.Hasher,r=t.algo,b=[],x=0;64>x;x++)b[x]=4294967296*u.abs(u.sin(x+1))|0;r=r.MD5=v.extend({_doReset:function(){this._hash=new w.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(q,n){for(var a=0;16>a;a++){var c=n+a,e=q[c];q[c]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360}var a=this._hash.words,c=q[n+0],e=q[n+1],j=q[n+2],k=q[n+3],z=q[n+4],r=q[n+5],t=q[n+6],w=q[n+7],v=q[n+8],A=q[n+9],B=q[n+10],C=q[n+11],u=q[n+12],D=q[n+13],E=q[n+14],x=q[n+15],f=a[0],m=a[1],g=a[2],h=a[3],f=p(f,m,g,h,c,7,b[0]),h=p(h,f,m,g,e,12,b[1]),g=p(g,h,f,m,j,17,b[2]),m=p(m,g,h,f,k,22,b[3]),f=p(f,m,g,h,z,7,b[4]),h=p(h,f,m,g,r,12,b[5]),g=p(g,h,f,m,t,17,b[6]),m=p(m,g,h,f,w,22,b[7]),f=p(f,m,g,h,v,7,b[8]),h=p(h,f,m,g,A,12,b[9]),g=p(g,h,f,m,B,17,b[10]),m=p(m,g,h,f,C,22,b[11]),f=p(f,m,g,h,u,7,b[12]),h=p(h,f,m,g,D,12,b[13]),g=p(g,h,f,m,E,17,b[14]),m=p(m,g,h,f,x,22,b[15]),f=d(f,m,g,h,e,5,b[16]),h=d(h,f,m,g,t,9,b[17]),g=d(g,h,f,m,C,14,b[18]),m=d(m,g,h,f,c,20,b[19]),f=d(f,m,g,h,r,5,b[20]),h=d(h,f,m,g,B,9,b[21]),g=d(g,h,f,m,x,14,b[22]),m=d(m,g,h,f,z,20,b[23]),f=d(f,m,g,h,A,5,b[24]),h=d(h,f,m,g,E,9,b[25]),g=d(g,h,f,m,k,14,b[26]),m=d(m,g,h,f,v,20,b[27]),f=d(f,m,g,h,D,5,b[28]),h=d(h,f,m,g,j,9,b[29]),g=d(g,h,f,m,w,14,b[30]),m=d(m,g,h,f,u,20,b[31]),f=l(f,m,g,h,r,4,b[32]),h=l(h,f,m,g,v,11,b[33]),g=l(g,h,f,m,C,16,b[34]),m=l(m,g,h,f,E,23,b[35]),f=l(f,m,g,h,e,4,b[36]),h=l(h,f,m,g,z,11,b[37]),g=l(g,h,f,m,w,16,b[38]),m=l(m,g,h,f,B,23,b[39]),f=l(f,m,g,h,D,4,b[40]),h=l(h,f,m,g,c,11,b[41]),g=l(g,h,f,m,k,16,b[42]),m=l(m,g,h,f,t,23,b[43]),f=l(f,m,g,h,A,4,b[44]),h=l(h,f,m,g,u,11,b[45]),g=l(g,h,f,m,x,16,b[46]),m=l(m,g,h,f,j,23,b[47]),f=s(f,m,g,h,c,6,b[48]),h=s(h,f,m,g,w,10,b[49]),g=s(g,h,f,m,E,15,b[50]),m=s(m,g,h,f,r,21,b[51]),f=s(f,m,g,h,u,6,b[52]),h=s(h,f,m,g,k,10,b[53]),g=s(g,h,f,m,B,15,b[54]),m=s(m,g,h,f,e,21,b[55]),f=s(f,m,g,h,v,6,b[56]),h=s(h,f,m,g,x,10,b[57]),g=s(g,h,f,m,t,15,b[58]),m=s(m,g,h,f,D,21,b[59]),f=s(f,m,g,h,z,6,b[60]),h=s(h,f,m,g,C,10,b[61]),g=s(g,h,f,m,j,15,b[62]),m=s(m,g,h,f,A,21,b[63]);a[0]=a[0]+f|0;a[1]=a[1]+m|0;a[2]=a[2]+g|0;a[3]=a[3]+h|0},_doFinalize:function(){var b=this._data,n=b.words,a=8*this._nDataBytes,c=8*b.sigBytes;n[c>>>5]|=128<<24-c%32;var e=u.floor(a/
4294967296);n[(c+64>>>9<<4)+15]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;n[(c+64>>>9<<4)+14]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360;b.sigBytes=4*(n.length+1);this._process();b=this._hash;n=b.words;for(a=0;4>a;a++)c=n[a],n[a]=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360;return b},clone:function(){var b=v.clone.call(this);b._hash=this._hash.clone();return b}});t.MD5=v._createHelper(r);t.HmacMD5=v._createHmacHelper(r)})(Math);(function(){var u=CryptoJS,p=u.lib,d=p.Base,l=p.WordArray,p=u.algo,s=p.EvpKDF=d.extend({cfg:d.extend({keySize:4,hasher:p.MD5,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,r){for(var p=this.cfg,s=p.hasher.create(),b=l.create(),u=b.words,q=p.keySize,p=p.iterations;u.length<q;){n&&s.update(n);var n=s.update(d).finalize(r);s.reset();for(var a=1;a<p;a++)n=s.finalize(n),s.reset();b.concat(n)}b.sigBytes=4*q;return b}});u.EvpKDF=function(d,l,p){return s.create(p).compute(d,l)}})();CryptoJS.lib.Cipher||function(u){var p=CryptoJS,d=p.lib,l=d.Base,s=d.WordArray,t=d.BufferedBlockAlgorithm,r=p.enc.Base64,w=p.algo.EvpKDF,v=d.Cipher=t.extend({cfg:l.extend(),createEncryptor:function(e,a){return this.create(this._ENC_XFORM_MODE,e,a)},createDecryptor:function(e,a){return this.create(this._DEC_XFORM_MODE,e,a)},init:function(e,a,b){this.cfg=this.cfg.extend(b);this._xformMode=e;this._key=a;this.reset()},reset:function(){t.reset.call(this);this._doReset()},process:function(e){this._append(e);return this._process()},finalize:function(e){e&&this._append(e);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(b,k,d){return("string"==typeof k?c:a).encrypt(e,b,k,d)},decrypt:function(b,k,d){return("string"==typeof k?c:a).decrypt(e,b,k,d)}}}});d.StreamCipher=v.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var b=p.mode={},x=function(e,a,b){var c=this._iv;c?this._iv=u:c=this._prevBlock;for(var d=0;d<b;d++)e[a+d]^=c[d]},q=(d.BlockCipherMode=l.extend({createEncryptor:function(e,a){return this.Encryptor.create(e,a)},createDecryptor:function(e,a){return this.Decryptor.create(e,a)},init:function(e,a){this._cipher=e;this._iv=a}})).extend();q.Encryptor=q.extend({processBlock:function(e,a){var b=this._cipher,c=b.blockSize;x.call(this,e,a,c);b.encryptBlock(e,a);this._prevBlock=e.slice(a,a+c)}});q.Decryptor=q.extend({processBlock:function(e,a){var b=this._cipher,c=b.blockSize,d=e.slice(a,a+c);b.decryptBlock(e,a);x.call(this,e,a,c);this._prevBlock=d}});b=b.CBC=q;q=(p.pad={}).Pkcs7={pad:function(a,b){for(var c=4*b,c=c-a.sigBytes%c,d=c<<24|c<<16|c<<8|c,l=[],n=0;n<c;n+=4)l.push(d);c=s.create(l,c);a.concat(c)},unpad:function(a){a.sigBytes-=a.words[a.sigBytes-1>>>2]&255}};d.BlockCipher=v.extend({cfg:v.cfg.extend({mode:b,padding:q}),reset:function(){v.reset.call(this);var a=this.cfg,b=a.iv,a=a.mode;if(this._xformMode==this._ENC_XFORM_MODE)var c=a.createEncryptor;else c=a.createDecryptor,this._minBufferSize=1;this._mode=c.call(a,this,b&&b.words)},_doProcessBlock:function(a,b){this._mode.processBlock(a,b)},_doFinalize:function(){var a=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){a.pad(this._data,this.blockSize);var b=this._process(!0)}else b=this._process(!0),a.unpad(b);return b},blockSize:4});var n=d.CipherParams=l.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}}),b=(p.format={}).OpenSSL={stringify:function(a){var b=a.ciphertext;a=a.salt;return(a?s.create([1398893684,1701076831]).concat(a).concat(b):b).toString(r)},parse:function(a){a=r.parse(a);var b=a.words;if(1398893684==b[0]&&1701076831==b[1]){var c=s.create(b.slice(2,4));b.splice(0,4);a.sigBytes-=16}return n.create({ciphertext:a,salt:c})}},a=d.SerializableCipher=l.extend({cfg:l.extend({format:b}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);var l=a.createEncryptor(c,d);b=l.finalize(b);l=l.cfg;return n.create({ciphertext:b,key:c,iv:l.iv,algorithm:a,mode:l.mode,padding:l.padding,blockSize:a.blockSize,formatter:d.format})},decrypt:function(a,b,c,d){d=this.cfg.extend(d);b=this._parse(b,d.format);return a.createDecryptor(c,d).finalize(b.ciphertext)},_parse:function(a,b){return"string"==typeof a?b.parse(a,this):a}}),p=(p.kdf={}).OpenSSL={execute:function(a,b,c,d){d||(d=s.random(8));a=w.create({keySize:b+c}).compute(a,d);c=s.create(a.words.slice(b),4*c);a.sigBytes=4*b;return n.create({key:a,iv:c,salt:d})}},c=d.PasswordBasedCipher=a.extend({cfg:a.cfg.extend({kdf:p}),encrypt:function(b,c,d,l){l=this.cfg.extend(l);d=l.kdf.execute(d,b.keySize,b.ivSize);l.iv=d.iv;b=a.encrypt.call(this,b,c,d.key,l);b.mixIn(d);return b},decrypt:function(b,c,d,l){l=this.cfg.extend(l);c=this._parse(c,l.format);d=l.kdf.execute(d,b.keySize,b.ivSize,c.salt);l.iv=d.iv;return a.decrypt.call(this,b,c,d.key,l)}})}();(function(){for(var u=CryptoJS,p=u.lib.BlockCipher,d=u.algo,l=[],s=[],t=[],r=[],w=[],v=[],b=[],x=[],q=[],n=[],a=[],c=0;256>c;c++)a[c]=128>c?c<<1:c<<1^283;for(var e=0,j=0,c=0;256>c;c++){var k=j^j<<1^j<<2^j<<3^j<<4,k=k>>>8^k&255^99;l[e]=k;s[k]=e;var z=a[e],F=a[z],G=a[F],y=257*a[k]^16843008*k;t[e]=y<<24|y>>>8;r[e]=y<<16|y>>>16;w[e]=y<<8|y>>>24;v[e]=y;y=16843009*G^65537*F^257*z^16843008*e;b[k]=y<<24|y>>>8;x[k]=y<<16|y>>>16;q[k]=y<<8|y>>>24;n[k]=y;e?(e=z^a[a[a[G^z]]],j^=a[a[j]]):e=j=1}var H=[0,1,2,4,8,16,32,64,128,27,54],d=d.AES=p.extend({_doReset:function(){for(var a=this._key,c=a.words,d=a.sigBytes/4,a=4*((this._nRounds=d+6)+1),e=this._keySchedule=[],j=0;j<a;j++)if(j<d)e[j]=c[j];else{var k=e[j-1];j%d?6<d&&4==j%d&&(k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255]):(k=k<<8|k>>>24,k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255],k^=H[j/d|0]<<24);e[j]=e[j-d]^k}c=this._invKeySchedule=[];for(d=0;d<a;d++)j=a-d,k=d%4?e[j]:e[j-4],c[d]=4>d||4>=j?k:b[l[k>>>24]]^x[l[k>>>16&255]]^q[l[k>>>8&255]]^n[l[k&255]]},encryptBlock:function(a,b){this._doCryptBlock(a,b,this._keySchedule,t,r,w,v,l)},decryptBlock:function(a,c){var d=a[c+1];a[c+1]=a[c+3];a[c+3]=d;this._doCryptBlock(a,c,this._invKeySchedule,b,x,q,n,s);d=a[c+1];a[c+1]=a[c+3];a[c+3]=d},_doCryptBlock:function(a,b,c,d,e,j,l,f){for(var m=this._nRounds,g=a[b]^c[0],h=a[b+1]^c[1],k=a[b+2]^c[2],n=a[b+3]^c[3],p=4,r=1;r<m;r++)var q=d[g>>>24]^e[h>>>16&255]^j[k>>>8&255]^l[n&255]^c[p++],s=d[h>>>24]^e[k>>>16&255]^j[n>>>8&255]^l[g&255]^c[p++],t=d[k>>>24]^e[n>>>16&255]^j[g>>>8&255]^l[h&255]^c[p++],n=d[n>>>24]^e[g>>>16&255]^j[h>>>8&255]^l[k&255]^c[p++],g=q,h=s,k=t;q=(f[g>>>24]<<24|f[h>>>16&255]<<16|f[k>>>8&255]<<8|f[n&255])^c[p++];s=(f[h>>>24]<<24|f[k>>>16&255]<<16|f[n>>>8&255]<<8|f[g&255])^c[p++];t=(f[k>>>24]<<24|f[n>>>16&255]<<16|f[g>>>8&255]<<8|f[h&255])^c[p++];n=(f[n>>>24]<<24|f[g>>>16&255]<<16|f[h>>>8&255]<<8|f[k&255])^c[p++];a[b]=q;a[b+1]=s;a[b+2]=t;a[b+3]=n},keySize:8});u.AES=p._createHelper(d)})();}catch(e){utag.DB(e)}}catch(e){}};if(!utag_condload){try{try{(function(history){var pushState=history.pushState;history.pushState=function(state){if(typeof history.onpushstate=="function"){history.onpushstate({state:state});}
return pushState.apply(history,arguments);};})(window.history);}catch(e){utag.DB(e)}}catch(e){}};if(typeof utag=="undefined"&&!utag_condload){var utag={id:"meridian.main",o:{},sender:{},send:{},rpt:{ts:{a:new Date()}},dbi:[],db_log:[],loader:{q:[],lc:0,f:{},p:0,ol:0,wq:[],lq:[],bq:{},bk:{},rf:0,ri:0,rp:0,rq:[],ready_q:[],sendq:{"pending":0},run_ready_q:function(){for(var i=0;i<utag.loader.ready_q.length;i++){utag.DB("READY_Q:"+i);try{utag.loader.ready_q[i]()}catch(e){utag.DB(e)};}},lh:function(a,b,c){a=""+location.hostname;b=a.split(".");c=(/\.co\.|\.com\.|\.org\.|\.edu\.|\.net\.|\.asn\./.test(a))?3:2;return b.splice(b.length-c,c).join(".");},WQ:function(a,b,c,d,g){utag.DB('WQ:'+utag.loader.wq.length);try{if(utag.udoname&&utag.udoname.indexOf(".")<0){utag.ut.merge(utag.data,window[utag.udoname],0);}
if(utag.cfg.load_rules_at_wait){utag.handler.LR(utag.data);}}catch(e){utag.DB(e)};d=0;g=[];for(a=0;a<utag.loader.wq.length;a++){b=utag.loader.wq[a];b.load=utag.loader.cfg[b.id].load;if(b.load==4){this.f[b.id]=0;utag.loader.LOAD(b.id)}else if(b.load>0){g.push(b);d++;}else{this.f[b.id]=1;}}
for(a=0;a<g.length;a++){utag.loader.AS(g[a]);}
if(d==0){utag.loader.END();}},AS:function(a,b,c,d){utag.send[a.id]=a;if(typeof a.src=='undefined'){a.src=utag.cfg.path+((typeof a.name!='undefined')?a.name:'ut'+'ag.'+a.id+'.js')}
a.src+=(a.src.indexOf('?')>0?'&':'?')+'utv='+(a.v?utag.cfg.template+a.v:utag.cfg.v);utag.rpt['l_'+a.id]=a.src;b=document;this.f[a.id]=0;if(a.load==2){utag.DB("Attach sync: "+a.src);a.uid=a.id;b.write('<script id="utag_'+a.id+'" src="'+a.src+'"></scr'+'ipt>')
if(typeof a.cb!='undefined')a.cb();}else if(a.load==1||a.load==3){if(b.createElement){c='utag_meridian.main_'+a.id;if(!b.getElementById(c)){d={src:a.src,id:c,uid:a.id,loc:a.loc}
if(a.load==3){d.type="iframe"};if(typeof a.cb!='undefined')d.cb=a.cb;utag.ut.loader(d);}}}},GV:function(a,b,c){b={};for(c in a){if(a.hasOwnProperty(c)&&typeof a[c]!="function")b[c]=a[c];}
return b},OU:function(a,b,c,d,f){try{if(typeof utag.data['cp.OPTOUTMULTI']!='undefined'){c=utag.loader.cfg;a=utag.ut.decode(utag.data['cp.OPTOUTMULTI']).split('|');for(d=0;d<a.length;d++){b=a[d].split(':');if(b[1]*1!==0){if(b[0].indexOf('c')==0){for(f in utag.loader.GV(c)){if(c[f].tcat==b[0].substring(1))c[f].load=0}}else if(b[0]*1==0){utag.cfg.nocookie=true}else{for(f in utag.loader.GV(c)){if(c[f].tid==b[0])c[f].load=0}}}}}}catch(e){utag.DB(e)}},RDdom:function(o){var d=document||{},l=location||{};o["dom.referrer"]=d.referrer;o["dom.title"]=""+d.title;o["dom.domain"]=""+l.hostname;o["dom.query_string"]=(""+l.search).substring(1);o["dom.hash"]=(""+l.hash).substring(1);o["dom.url"]=""+d.URL;o["dom.pathname"]=""+l.pathname;o["dom.viewport_height"]=window.innerHeight||(d.documentElement?d.documentElement.clientHeight:960);o["dom.viewport_width"]=window.innerWidth||(d.documentElement?d.documentElement.clientWidth:960);},RDcp:function(o,b,c,d){b=utag.loader.RC();for(d in b){if(d.match(/utag_(.*)/)){for(c in utag.loader.GV(b[d])){o["cp.utag_"+RegExp.$1+"_"+c]=b[d][c];}}}
for(c in utag.loader.GV((utag.cl&&!utag.cl['_all_'])?utag.cl:b)){if(c.indexOf("utag_")<0&&typeof b[c]!="undefined")o["cp."+c]=b[c];}
},RDqp:function(o,a,b,c){a=location.search+(location.hash+'').replace("#","&");if(utag.cfg.lowerqp){a=a.toLowerCase()};if(a.length>1){b=a.substring(1).split('&');for(a=0;a<b.length;a++){c=b[a].split("=");if(c.length>1){o["qp."+c[0]]=utag.ut.decode(c[1])}}}},RDmeta:function(o,a,b,h){a=document.getElementsByTagName("meta");for(b=0;b<a.length;b++){try{h=a[b].name||a[b].getAttribute("property")||"";}catch(e){h="";utag.DB(e)};if(utag.cfg.lowermeta){h=h.toLowerCase()};if(h!=""){o["meta."+h]=a[b].content}}},RDva:function(o){var readAttr=function(o,l){var a="",b;a=localStorage.getItem(l);if(!a||a=="{}")return;b=utag.ut.flatten({va:JSON.parse(a)});utag.ut.merge(o,b,1);}
try{readAttr(o,"tealium_va");readAttr(o,"tealium_va_"+o["ut.account"]+"_"+o["ut.profile"]);}catch(e){utag.DB(e)}},RDut:function(o,a){var t={};var d=new Date();var m=(utag.ut.typeOf(d.toISOString)=="function");o["ut.domain"]=utag.cfg.domain;o["ut.version"]=utag.cfg.v;t["tealium_event"]=o["ut.event"]=a||"view";t["tealium_visitor_id"]=o["ut.visitor_id"]=o["cp.utag_main_v_id"];t["tealium_session_id"]=o["ut.session_id"]=o["cp.utag_main_ses_id"];try{t["tealium_datasource"]="";t["tealium_account"]=o["ut.account"]=utag.cfg.utid.split("/")[0];t["tealium_profile"]=o["ut.profile"]=utag.cfg.utid.split("/")[1];t["tealium_environment"]=o["ut.env"]=utag.cfg.path.split("/")[6];}catch(e){utag.DB(e)}
t["tealium_random"]=Math.random().toFixed(16).substring(2);t["tealium_library_name"]="ut"+"ag.js";t["tealium_library_version"]=(utag.cfg.template+"0").substring(2);t["tealium_timestamp_epoch"]=Math.floor(d.getTime()/1000);t["tealium_timestamp_utc"]=(m?d.toISOString():"");d.setHours(d.getHours()-(d.getTimezoneOffset()/60));t["tealium_timestamp_local"]=(m?d.toISOString().replace("Z",""):"");utag.ut.merge(o,t,0);},RDses:function(o,a,c){a=(new Date()).getTime();c=(a+parseInt(utag.cfg.session_timeout))+"";if(!o["cp.utag_main_ses_id"]){o["cp.utag_main_ses_id"]=a+"";o["cp.utag_main__ss"]="1";o["cp.utag_main__sn"]=(1+parseInt(o["cp.utag_main__sn"]||0))+"";}else{o["cp.utag_main__ss"]="0";}
o["cp.utag_main__pn"]=o["cp.utag_main__pn"]||"1";o["cp.utag_main__st"]=c;utag.loader.SC("utag_main",{"_sn":(o["cp.utag_main__sn"]||1),"_ss":o["cp.utag_main__ss"],"_st":c,"ses_id":(o["cp.utag_main_ses_id"]||a)+";exp-session","_pn":o["cp.utag_main__pn"]+";exp-session"});},RDpv:function(o){if(typeof utag.pagevars=="function"){utag.DB("Read page variables");utag.pagevars(o);}},RD:function(o,a){utag.DB("utag.loader.RD");utag.DB(o);utag.loader.RDcp(o);if(!utag.loader.rd_flag){utag.loader.rd_flag=1;o["cp.utag_main_v_id"]=o["cp.utag_main_v_id"]||utag.ut.vi((new Date()).getTime());o["cp.utag_main__pn"]=(1+parseInt(o["cp.utag_main__pn"]||0))+"";utag.loader.SC("utag_main",{"v_id":o["cp.utag_main_v_id"]});utag.loader.RDses(o);}
if(a&&!utag.cfg.noview)utag.loader.RDses(o);utag.loader.RDqp(o);utag.loader.RDmeta(o);utag.loader.RDdom(o);utag.loader.RDut(o,a||"view");utag.loader.RDpv(o);utag.loader.RDva(o);},RC:function(a,x,b,c,d,e,f,g,h,i,j,k,l,m,n,o,v,ck,cv,r,s,t){o={};b=(""+document.cookie!="")?(document.cookie).split("; "):[];r=/^(.*?)=(.*)$/;s=/^(.*);exp-(.*)$/;t=(new Date()).getTime();for(c=0;c<b.length;c++){if(b[c].match(r)){ck=RegExp.$1;cv=RegExp.$2;}
e=utag.ut.decode(cv);if(typeof ck!="undefined"){if(ck.indexOf("ulog")==0||ck.indexOf("utag_")==0){e=cv.split("$");g=[];j={};for(f=0;f<e.length;f++){try{g=e[f].split(":");if(g.length>2){g[1]=g.slice(1).join(":");}
v="";if((""+g[1]).indexOf("~")==0){h=g[1].substring(1).split("|");for(i=0;i<h.length;i++)h[i]=utag.ut.decode(h[i]);v=h}else v=utag.ut.decode(g[1]);j[g[0]]=v;}catch(er){utag.DB(er)};}
o[ck]={};for(f in utag.loader.GV(j)){if(j[f]instanceof Array){n=[];for(m=0;m<j[f].length;m++){if(j[f][m].match(s)){k=(RegExp.$2=="session")?(typeof j._st!="undefined"?j._st:t-1):parseInt(RegExp.$2);if(k>t)n[m]=(x==0)?j[f][m]:RegExp.$1;}}
j[f]=n.join("|");}else{j[f]=""+j[f];if(j[f].match(s)){k=(RegExp.$2=="session")?(typeof j._st!="undefined"?j._st:t-1):parseInt(RegExp.$2);j[f]=(k<t)?null:(x==0?j[f]:RegExp.$1);}}
if(j[f])o[ck][f]=j[f];}}else if(utag.cl[ck]||utag.cl['_all_']){o[ck]=e}}}
return(a)?(o[a]?o[a]:{}):o;},SC:function(a,b,c,d,e,f,g,h,i,j,k,x,v){if(!a)return 0;if(a=="utag_main"&&utag.cfg.nocookie)return 0;v="";var date=new Date();var exp=new Date();exp.setTime(date.getTime()+(365*24*60*60*1000));x=exp.toGMTString();if(c&&c=="da"){x="Thu, 31 Dec 2009 00:00:00 GMT";}else if(a.indexOf("utag_")!=0&&a.indexOf("ulog")!=0){if(typeof b!="object"){v=b}}else{d=utag.loader.RC(a,0);for(e in utag.loader.GV(b)){f=""+b[e];if(f.match(/^(.*);exp-(\d+)(\w)$/)){g=date.getTime()+parseInt(RegExp.$2)*((RegExp.$3=="h")?3600000:86400000);if(RegExp.$3=="u")g=parseInt(RegExp.$2);f=RegExp.$1+";exp-"+g;}
if(c=="i"){if(d[e]==null)d[e]=f;}else if(c=="d")delete d[e];else if(c=="a")d[e]=(d[e]!=null)?(f-0)+(d[e]-0):f;else if(c=="ap"||c=="au"){if(d[e]==null)d[e]=f;else{if(d[e].indexOf("|")>0){d[e]=d[e].split("|")}
g=(d[e]instanceof Array)?d[e]:[d[e]];g.push(f);if(c=="au"){h={};k={};for(i=0;i<g.length;i++){if(g[i].match(/^(.*);exp-(.*)$/)){j=RegExp.$1;}
if(typeof k[j]=="undefined"){k[j]=1;h[g[i]]=1;}}
g=[];for(i in utag.loader.GV(h)){g.push(i);}}
d[e]=g}}else d[e]=f;}
h=new Array();for(g in utag.loader.GV(d)){if(d[g]instanceof Array){for(c=0;c<d[g].length;c++){d[g][c]=encodeURIComponent(d[g][c])}
h.push(g+":~"+d[g].join("|"))}else h.push((g+":").replace(/[\,\$\;\?]/g,"")+encodeURIComponent(d[g]))}
if(h.length==0){h.push("");x=""}
v=(h.join("$"));}
document.cookie=a+"="+v+";path=/;domain="+utag.cfg.domain+";expires="+x;return 1},LOAD:function(a,b,c,d){if(!utag.loader.cfg){return}
if(this.ol==0){if(utag.loader.cfg[a].block&&utag.loader.cfg[a].cbf){this.f[a]=1;delete utag.loader.bq[a];}
for(b in utag.loader.GV(utag.loader.bq)){if(utag.loader.cfg[a].load==4&&utag.loader.cfg[a].wait==0){utag.loader.bk[a]=1;utag.DB("blocked: "+a);}
utag.DB("blocking: "+b);return;}
utag.loader.INIT();return;}
utag.DB('utag.loader.LOAD:'+a);if(this.f[a]==0){this.f[a]=1;if(utag.cfg.noview!=true){if(utag.loader.cfg[a].send){utag.DB("SENDING: "+a);try{if(utag.loader.sendq.pending>0&&utag.loader.sendq[a]){utag.DB("utag.loader.LOAD:sendq: "+a);while(d=utag.loader.sendq[a].shift()){utag.DB(d);utag.sender[a].send(d.event,utag.handler.C(d.data));utag.loader.sendq.pending--;}}else{utag.sender[a].send('view',utag.handler.C(utag.data));}
utag.rpt['s_'+a]=0;}catch(e){utag.DB(e);utag.rpt['s_'+a]=1;}}}
if(utag.loader.rf==0)return;for(b in utag.loader.GV(this.f)){if(this.f[b]==0||this.f[b]==2)return}
utag.loader.END();}},EV:function(a,b,c,d){if(b=="ready"){if(!utag.data){try{utag.cl={'_all_':1};utag.loader.initdata();utag.loader.RD(utag.data);}catch(e){utag.DB(e)};}
if((document.attachEvent||utag.cfg.dom_complete)?document.readyState==="complete":document.readyState!=="loading")setTimeout(c,1);else{utag.loader.ready_q.push(c);var RH;if(utag.loader.ready_q.length<=1){if(document.addEventListener){RH=function(){document.removeEventListener("DOMContentLoaded",RH,false);utag.loader.run_ready_q()};if(!utag.cfg.dom_complete)document.addEventListener("DOMContentLoaded",RH,false);window.addEventListener("load",utag.loader.run_ready_q,false);}else if(document.attachEvent){RH=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",RH);utag.loader.run_ready_q()}};document.attachEvent("onreadystatechange",RH);window.attachEvent("onload",utag.loader.run_ready_q);}}}}else{if(a.addEventListener){a.addEventListener(b,c,false)}else if(a.attachEvent){a.attachEvent(((d==1)?"":"on")+b,c)}}},END:function(b,c,d,e,v,w){if(this.ended){return};this.ended=1;utag.DB("loader.END");b=utag.data;if(utag.handler.base&&utag.handler.base!='*'){e=utag.handler.base.split(",");for(d=0;d<e.length;d++){if(typeof b[e[d]]!="undefined")utag.handler.df[e[d]]=b[e[d]]}}else if(utag.handler.base=='*'){utag.ut.merge(utag.handler.df,b,1);}
utag.rpt['r_0']="t";for(var r in utag.loader.GV(utag.cond)){utag.rpt['r_'+r]=(utag.cond[r])?"t":"f";}
utag.rpt.ts['s']=new Date();v=".tiqcdn.com";w=utag.cfg.path.indexOf(v);if(w>0&&b["cp.utag_main__ss"]==1&&!utag.cfg.no_session_count)utag.ut.loader({src:utag.cfg.path.substring(0,w)+v+"/ut"+"ag/tiqapp/ut"+"ag.v.js?a="+utag.cfg.utid+(utag.cfg.nocookie?"&nocookie=1":"&cb="+(new Date).getTime()),id:"tiqapp"})
if(utag.cfg.noview!=true)utag.handler.RE('view',b,"end");utag.handler.INIT();}},DB:function(a,b){if(utag.cfg.utagdb===false){return;}else if(typeof utag.cfg.utagdb=="undefined"){b=document.cookie+'';utag.cfg.utagdb=((b.indexOf('utagdb=true')>=0)?true:false);}
if(utag.cfg.utagdb===true){var t;if(utag.ut.typeOf(a)=="object"){t=utag.handler.C(a)}else{t=a}
utag.db_log.push(t);try{if(!utag.cfg.noconsole)console.log(t)}catch(e){}}},RP:function(a,b,c){if(typeof a!='undefined'&&typeof a.src!='undefined'&&a.src!=''){b=[];for(c in utag.loader.GV(a)){if(c!='src')b.push(c+'='+escape(a[c]))}
this.dbi.push((new Image()).src=a.src+'?utv='+utag.cfg.v+'&utid='+utag.cfg.utid+'&'+(b.join('&')))}},view:function(a,c,d){return this.track({event:'view',data:a,cfg:{cb:c,uids:d}})},link:function(a,c,d){return this.track({event:'link',data:a,cfg:{cb:c,uids:d}})},track:function(a,b,c,d){if(typeof a=="string")a={event:a,data:b,cfg:{cb:c}};for(d in utag.loader.GV(utag.o)){try{utag.o[d].handler.trigger(a.event||"view",a.data||a,a.cfg)}catch(e){utag.DB(e)};}
if(a.cfg&&a.cfg.cb)try{a.cfg.cb()}catch(e){utag.DB(e)};return true},handler:{base:"",df:{},o:{},send:{},iflag:0,INIT:function(a,b,c){utag.DB('utag.handler.INIT');if(utag.initcatch){utag.initcatch=0;return}
this.iflag=1;a=utag.loader.q.length;if(a>0){utag.DB("Loader queue");for(b=0;b<a;b++){c=utag.loader.q[b];utag.handler.trigger(c.a,c.b,c.c)}}
},test:function(){return 1},LR:function(b){utag.DB("Load Rules");for(var d in utag.loader.GV(utag.cond)){utag.cond[d]=false;}
utag.DB(b);utag.loader.loadrules(b);utag.DB(utag.cond);utag.loader.initcfg();utag.loader.OU();for(var r in utag.loader.GV(utag.cond)){utag.rpt['r_'+r]=(utag.cond[r])?"t":"f";}},RE:function(a,b,c,d,e,f,g){if(c!="alr"&&!this.cfg_extend){return 0;}
utag.DB("RE: "+c);if(c=="alr")utag.DB("All Tags EXTENSIONS");utag.DB(b);if(typeof this.extend!="undefined"){g=0;for(d=0;d<this.extend.length;d++){try{e=0;if(typeof this.cfg_extend!="undefined"){f=this.cfg_extend[d];if(typeof f.count=="undefined")f.count=0;if(f[a]==0||(f.once==1&&f.count>0)||f[c]==0){e=1}else{if(f[c]==1){g=1};f.count++}}
if(e!=1){this.extend[d](a,b);utag.rpt['ex_'+d]=0}}catch(er){utag.DB(er);utag.rpt['ex_'+d]=1;utag.ut.error({e:er.message,s:utag.cfg.path+'utag.js',l:d,t:'ge'});}}
utag.DB(b);return g;}},trigger:function(a,b,c,d,e,f){utag.DB('trigger:'+a+(c&&c.uids?":"+c.uids.join(","):""));b=b||{};utag.DB(b);if(!this.iflag){utag.DB("trigger:called before tags loaded");for(d in utag.loader.f){if(!(utag.loader.f[d]===1))utag.DB('Tag '+d+' did not LOAD')}
utag.loader.q.push({a:a,b:utag.handler.C(b),c:c});return;}
utag.ut.merge(b,this.df,0);utag.loader.RD(b,a);utag.cfg.noview=false;function sendTag(a,b,d){try{if(typeof utag.sender[d]!="undefined"){utag.DB("SENDING: "+d);utag.sender[d].send(a,utag.handler.C(b));utag.rpt['s_'+d]=0;}else if(utag.loader.cfg[d].load!=2&&utag.loader.cfg[d].s2s!=1){utag.loader.sendq[d]=utag.loader.sendq[d]||[];utag.loader.sendq[d].push({"event":a,"data":utag.handler.C(b)});utag.loader.sendq.pending++;utag.loader.AS({id:d,load:1});}}catch(e){utag.DB(e)}}
if(c&&c.uids){this.RE(a,b,"alr");for(f=0;f<c.uids.length;f++){d=c.uids[f];sendTag(a,b,d);}}else if(utag.cfg.load_rules_ajax){this.RE(a,b,"blr");this.LR(b);this.RE(a,b,"alr");for(f=0;f<utag.loader.cfgsort.length;f++){d=utag.loader.cfgsort[f];if(utag.loader.cfg[d].load&&utag.loader.cfg[d].send){sendTag(a,b,d);}}}else{this.RE(a,b,"alr");for(d in utag.loader.GV(utag.sender)){sendTag(a,b,d);}}
this.RE(a,b,"end");},C:function(a,b,c){b={};for(c in utag.loader.GV(a)){if(a[c]instanceof Array){b[c]=a[c].slice(0)}else{b[c]=a[c]}}
return b}},ut:{pad:function(a,b,c,d){a=""+((a-0).toString(16));d='';if(b>a.length){for(c=0;c<(b-a.length);c++){d+='0'}}return""+d+a},vi:function(t,a,b){if(!utag.v_id){a=this.pad(t,12);b=""+Math.random();a+=this.pad(b.substring(2,b.length),16);try{a+=this.pad((navigator.plugins.length?navigator.plugins.length:0),2);a+=this.pad(navigator.userAgent.length,3);a+=this.pad(document.URL.length,4);a+=this.pad(navigator.appVersion.length,3);a+=this.pad(screen.width+screen.height+parseInt((screen.colorDepth)?screen.colorDepth:screen.pixelDepth),5)}catch(e){utag.DB(e);a+="12345"};utag.v_id=a;}
return utag.v_id},hasOwn:function(o,a){return o!=null&&Object.prototype.hasOwnProperty.call(o,a)},isEmptyObject:function(o,a){for(a in o){if(utag.ut.hasOwn(o,a))return false}
return true},isEmpty:function(o){var t=utag.ut.typeOf(o);if(t=="number"){return isNaN(o)}else if(t=="boolean"){return false}else if(t=="string"){return o.length===0}else return utag.ut.isEmptyObject(o)},typeOf:function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();},flatten:function(o){var a={};function r(c,p){if(Object(c)!==c||c instanceof Array){a[p]=c;}else{if(utag.ut.isEmptyObject(c)){}else{for(var d in c){r(c[d],p?p+"."+d:d);}}}}
r(o,"");return a;},merge:function(a,b,c,d){if(c){for(d in utag.loader.GV(b)){a[d]=b[d]}}else{for(d in utag.loader.GV(b)){if(typeof a[d]=="undefined")a[d]=b[d]}}},decode:function(a,b){b="";try{b=decodeURIComponent(a)}catch(e){utag.DB(e)};if(b==""){b=unescape(a)};return b},encode:function(a,b){b="";try{b=encodeURIComponent(a)}catch(e){utag.DB(e)};if(b==""){b=escape(a)};return b},error:function(a,b,c){if(typeof utag_err!="undefined"){utag_err.push(a)}},loader:function(o,a,b,c,l,m){utag.DB(o);a=document;if(o.type=="iframe"){m=a.getElementById(o.id);if(m&&m.tagName=="IFRAME"){b=m;}else{b=a.createElement("iframe");}
o.attrs=o.attrs||{};utag.ut.merge(o.attrs,{"height":"1","width":"1","style":"display:none"},0);}else if(o.type=="img"){utag.DB("Attach img: "+o.src);b=new Image();}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";}
if(o.id){b.id=o.id};for(l in utag.loader.GV(o.attrs)){b.setAttribute(l,o.attrs[l])}
b.setAttribute("src",o.src);if(typeof o.cb=="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb()},false);}else{b.onreadystatechange=function(){if(this.readyState=='complete'||this.readyState=='loaded'){this.onreadystatechange=null;o.cb()}};}}
if(o.type!="img"&&!m){l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l=="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b)}}}}}};utag.o['meridian.main']=utag;utag.cfg={template:"ut4.42.",load_rules_ajax:true,load_rules_at_wait:false,lowerqp:false,noconsole:false,session_timeout:1800000,readywait:0,noload:0,domain:utag.loader.lh(),path:"//tags.tiqcdn.com/utag/meridian/main/prod/",utid:"meridian/main/201906281451"};utag.cfg.v=utag.cfg.template+"201906281451";utag.cond={100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,114:0,115:0,116:0,117:0,13:0,15:0,17:0,18:0,21:0,22:0,23:0,24:0,25:0,28:0,29:0,42:0,47:0,48:0,50:0,61:0,62:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,81:0,82:0,84:0,85:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0};utag.pagevars=function(ud){ud=ud||utag.data;try{ud['js_page.document.location.hostname']=document.location.hostname}catch(e){utag.DB(e)};try{ud['js_page.utag_data.stoptracking']=utag_data.stoptracking}catch(e){utag.DB(e)};};utag.loader.initdata=function(){try{utag.data=(typeof utag_data!='undefined')?utag_data:{};utag.udoname='utag_data';}catch(e){utag.data={};utag.DB('idf:'+e);}};utag.loader.loadrules=function(_pd,_pc){var d=_pd||utag.data;var c=_pc||utag.cond;for(var l in utag.loader.GV(c)){switch(l){case'100':try{c[100]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_transaction_history_download')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'101':try{c[101]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_account_rename')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'102':try{c[102]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_reference_page_print')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'103':try{c[103]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_account_reorder')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'104':try{c[104]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_account_type_filter')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'105':try{c[105]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_sidebar_action_link_click')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'106':try{c[106]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_account_open_start')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'107':try{c[107]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().toLowerCase().indexOf('internalPromotionClick'.toLowerCase())>-1&&d['ut.event'].toString().toLowerCase()=='link'.toLowerCase())}catch(e){utag.DB(e)};break;case'114':try{c[114]|=(/(www(new)?\.)?meridiancu\.ca/i.test(d['dom.url']))}catch(e){utag.DB(e)};break;case'115':try{c[115]|=(d['event_name'].toString().toLowerCase()=='sbi_18mogic_form_complete'.toLowerCase()&&d['ut.event'].toString().toLowerCase().indexOf('link'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'116':try{c[116]|=(d['event_name'].toString().toLowerCase()=='sbdwa_form_complete'.toLowerCase()&&d['ut.event'].toString().toLowerCase().indexOf('link'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'117':try{c[117]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().toLowerCase().indexOf('internalPromotionView'.toLowerCase())>-1&&d['ut.event'].toString().toLowerCase()=='link'.toLowerCase())}catch(e){utag.DB(e)};break;case'13':try{c[13]|=(d['dom.url'].toString().toLowerCase().indexOf('/personal-banking/mortgagecampaign/thankyou'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'15':try{c[15]|=(d['dom.pathname'].toString().toLowerCase().indexOf('/personal-banking/mortgagecampaign/Default'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'17':try{c[17]|=(d['dom.pathname'].toString().toLowerCase().indexOf('/ConfirmationComplete'.toLowerCase())>-1&&d['ut.event'].toString().toLowerCase().indexOf('view'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'18':try{c[18]|=(d['dom.pathname'].toString().toLowerCase().indexOf('personal-banking/Offers/OOP/'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'21':try{c[21]|=(typeof d['enh_action']!='undefined'&&d['enh_action'].toString().toLowerCase().indexOf('product_click'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'22':try{c[22]|=(typeof d['enh_action']!='undefined'&&d['enh_action'].toString().toLowerCase().indexOf('add'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'23':try{c[23]|=(typeof d['enh_action']!='undefined'&&d['enh_action'].toString().toLowerCase().indexOf('checkout'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'24':try{c[24]|=(typeof d['enh_action']!='undefined'&&d['enh_action'].toString().toLowerCase().indexOf('purchase'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'25':try{c[25]|=(d['dom.domain'].toString().indexOf('rrspiq.ca')>-1)}catch(e){utag.DB(e)};break;case'28':try{c[28]|=(d['dom.domain']=='meridiancu.ca')}catch(e){utag.DB(e)};break;case'29':try{c[29]|=(/collabriacreditcards(\.ca|(-dev\.spinutech\.com))/.test(d['dom.domain']))||(/lending\.meridiancu\.ca/.test(d['dom.domain']))}catch(e){utag.DB(e)};break;case'42':try{c[42]|=(d['dom.url'].toString().indexOf('https://lending.meridiancu.ca/Summary')>-1)}catch(e){utag.DB(e)};break;case'47':try{c[47]|=(typeof d['js_page.document.location.hostname']!='undefined'&&d['js_page.document.location.hostname'].toString().toLowerCase().indexOf('meridian-uat.poweredbygrow.com'.toLowerCase())<0&&d['js_page.document.location.hostname'].toString().toLowerCase().indexOf('loans.meridiancu.ca'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'48':try{c[48]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('applicationSubmit')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&d['js_page.document.location.hostname'].toString().indexOf('meridian-uat.poweredbygrow.com')>-1)||(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('applicationSubmit')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&d['js_page.document.location.hostname'].toString().indexOf('loans.meridiancu.ca')>-1)}catch(e){utag.DB(e)};break;case'50':try{c[50]|=(d['dom.url'].toString().indexOf('lending\.meridiancu\.ca/legal/')>-1&&d['dom.url'].toString().indexOf('lending\.meridiancu\.ca/summary/')>-1&&d['dom.url'].toString().indexOf('lending\.meridiancu\.ca/dashboard/')>-1)}catch(e){utag.DB(e)};break;case'61':try{c[61]|=(d['dom.url'].toString().indexOf('www.meridiancu.ca/personal-banking/Offers/18month250.aspx')>-1)}catch(e){utag.DB(e)};break;case'62':try{c[62]|=(d['dom.url'].toString().indexOf('https://www.meridiancu.ca/personal-banking/offers/gic250.aspx')>-1)}catch(e){utag.DB(e)};break;case'65':try{c[65]|=(typeof d['js_page.document.location.hostname']!='undefined'&&/banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname'])&&d['dom.pathname'].toString().toLowerCase()!='/Security'.toLowerCase())||(typeof d['js_page.document.location.hostname']!='undefined'&&/banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname'])&&d['dom.pathname'].toString().toLowerCase()=='/Security'.toLowerCase()&&typeof d['cp.rob_stoptracking']=='undefined')}catch(e){utag.DB(e)};break;case'66':try{c[66]|=(typeof d['js_page.document.location.hostname']!='undefined'&&d['js_page.document.location.hostname'].toString().toLowerCase().indexOf('uatbanking.meridiancu.ca'.toLowerCase())<0&&d['js_page.document.location.hostname'].toString().toLowerCase().indexOf('banking.meridiancu.ca'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'67':try{c[67]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('applicationSubmit')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&d['js_page.document.location.hostname'].toString().indexOf('qalending.meridiancu.ca')>-1)||(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('applicationSubmit')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&d['js_page.document.location.hostname'].toString().indexOf('lending.meridiancu.ca')>-1)||(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('applicationSubmit')>-1&&/uatbanking\.meridiancu\.ca\/OMO\/lending/i.test(d['dom.url']))}catch(e){utag.DB(e)};break;case'68':try{c[68]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('roblogin')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'69':try{c[69]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_start_transfer')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'70':try{c[70]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_transfer_complete')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'71':try{c[71]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_start_etransfer_send')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'72':try{c[72]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_etransfer_send_complete')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'73':try{c[73]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_start_etransfer_receive')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'74':try{c[74]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_etransfer_receive_complete')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'75':try{c[75]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_start_bill_payment')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'76':try{c[76]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_bill_payment_complete')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'77':try{c[77]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_bill_payment_error')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'78':try{c[78]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_etransfer_receive_error')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'79':try{c[79]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_transfer_error')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'81':try{c[81]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_etransfer_send_error')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'82':try{c[82]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_open_account')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'84':try{c[84]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_send_secure_message')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'85':try{c[85]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_read_secure_message')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'88':try{c[88]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_external_bank_link_click_step1')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'89':try{c[89]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_update_alerts')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'90':try{c[90]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_online_statment_alerts_update')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'91':try{c[91]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_home_quick_action')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'92':try{c[92]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_contact_us_call_request')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'93':try{c[93]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_login_fail')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'94':try{c[94]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_password_reset')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'95':try{c[95]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_transactions_statement_download')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'96':try{c[96]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_transactions_statement_print')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'97':try{c[97]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_foreign_exchange_calculator_submit')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;case'98':try{c[98]|=(typeof d['event_name']!='undefined'&&d['event_name'].toString().indexOf('rob_transactions_history_print')>-1&&typeof d['js_page.document.location.hostname']!='undefined'&&/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(d['js_page.document.location.hostname']))}catch(e){utag.DB(e)};break;}}};utag.pre=function(){utag.loader.initdata();utag.pagevars();try{utag.loader.RD(utag.data)}catch(e){utag.DB(e)};utag.loader.loadrules();};utag.loader.GET=function(){utag.cl={'_all_':1};utag.pre();utag.handler.extend=[function(a,b,c,d,e,f,g){d=b['qp.productIds'];if(typeof d=='undefined')return;c=[{'18446645':'conv10'},{'180300425':'conv10'},{'250217803':'conv10'},{'435049186':'conv10'},{'471678032':'conv30'},{'536570504':'conv30'},{'553087831':'conv10'},{'610753897':'conv30'},{'837312702':'conv10'},{'873290536':'conv10'},{'883973841':'conv30'},{'971513636':'conv10'},{'122348966;250217803':'conv1000'},{'122348966;435049186':'conv1000'},{'198186628;536570504':'conv1004'},{'198186628;610753897':'conv1004'},{'298204213;471678032':'conv70'},{'298204213;883973841':'conv70'},{'54102988;471678032':'conv1002'},{'54102988;883973841':'conv1002'},{'645405059;536570504':'conv90'},{'645405059;610753897':'conv90'},{'735563103;471678032':'conv1008'},{'735563103;883973841':'conv1008'},{'789908791;536570504':'conv1006'},{'789908791;610753897':'conv1006'},{'839848734;536570504':'conv2004'},{'839848734;610753897':'conv2004'},{'927560358;471678032':'conv2002'},{'927560358;883973841':'conv2002'},{'933467927;250217803':'conv50'},{'933467927;435049186':'conv50'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['floodlight_activity_omo_start']=c[e][f];m=true};};if(m)break};},function(a,b,c,d,e,f,g){d=b['qp.productIds'];if(typeof d=='undefined')return;c=[{'18446645':'omoco0'},{'180300425':'omoco0'},{'250217803':'omoco0'},{'435049186':'omoco0'},{'471678032':'omoco0'},{'536570504':'omoco0'},{'553087831':'omoco0'},{'610753897':'omoco0'},{'837312702':'omoco0'},{'873290536':'omoco0'},{'883973841':'omoco0'},{'971513636':'omoco0'},{'122348966;250217803':'omoco0'},{'122348966;435049186':'omoco0'},{'198186628;536570504':'omoco0'},{'198186628;610753897':'omoco0'},{'298204213;471678032':'omoco0'},{'298204213;883973841':'omoco0'},{'54102988;471678032':'omoco0'},{'54102988;883973841':'omoco0'},{'645405059;536570504':'omoco0'},{'645405059;610753897':'omoco0'},{'735563103;471678032':'omoco0'},{'735563103;883973841':'omoco0'},{'789908791;536570504':'omoco0'},{'789908791;610753897':'omoco0'},{'839848734;536570504':'omoco0'},{'839848734;610753897':'omoco0'},{'927560358;471678032':'omoco0'},{'927560358;883973841':'omoco0'},{'933467927;250217803':'omoco0'},{'933467927;435049186':'omoco0'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['floodlight_activity_group_omo_start']=c[e][f];m=true};};if(m)break};},function(a,b,c,d,e,f,g){d=b['cp.mcu_omo_pids'];if(typeof d=='undefined')return;c=[{'18446645':'conv20'},{'180300425':'conv20'},{'250217803':'conv20'},{'435049186':'conv20'},{'471678032':'conv40'},{'536570504':'conv40'},{'553087831':'conv20'},{'610753897':'conv40'},{'837312702':'conv20'},{'873290536':'conv20'},{'883973841':'conv40'},{'971513636':'conv20'},{'122348966,250217803':'conv1001'},{'122348966,435049186':'conv1001'},{'198186628,536570504':'conv1005'},{'198186628,610753897':'conv1005'},{'298204213,471678032':'conv80'},{'298204213,883973841':'conv80'},{'54102988,471678032':'conv1003'},{'54102988,883973841':'conv1003'},{'645405059,536570504':'conv100'},{'645405059,610753897':'conv100'},{'735563103,471678032':'conv200'},{'735563103,883973841':'conv200'},{'789908791,536570504':'conv1007'},{'789908791,610753897':'conv1007'},{'839848734,536570504':'conv2005'},{'839848734,610753897':'conv2005'},{'927560358,471678032':'conv2003'},{'927560358,883973841':'conv2003'},{'933467927,250217803':'conv60'},{'933467927,435049186':'conv60'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['floodlight_activity_omo_complete']=c[e][f];m=true};};if(m)break};},function(a,b,c,d,e,f,g){d=b['cp.mcu_omo_pids'];if(typeof d=='undefined')return;c=[{'18446645':'omoco0'},{'180300425':'omoco0'},{'250217803':'omoco0'},{'435049186':'omoco0'},{'471678032':'omoco0'},{'536570504':'omoco0'},{'553087831':'omoco0'},{'610753897':'omoco0'},{'837312702':'omoco0'},{'873290536':'omoco0'},{'883973841':'omoco0'},{'971513636':'omoco0'},{'122348966,250217803':'omoco0'},{'122348966,435049186':'omoco0'},{'198186628,536570504':'omoco0'},{'198186628,610753897':'omoco0'},{'298204213,471678032':'omoco0'},{'298204213,883973841':'omoco0'},{'54102988,471678032':'omoco0'},{'54102988,883973841':'omoco0'},{'645405059,536570504':'omoco0'},{'645405059,610753897':'omoco0'},{'735563103,471678032':'omoco0'},{'735563103,883973841':'omoco0'},{'789908791,536570504':'omoco0'},{'789908791,610753897':'omoco0'},{'839848734,536570504':'omoco0'},{'839848734,610753897':'omoco0'},{'927560358,471678032':'omoco0'},{'927560358,883973841':'omoco0'},{'933467927,250217803':'omoco0'},{'933467927,435049186':'omoco0'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['floodlight_activity_group_omo_complete']=c[e][f];m=true};};if(m)break};},function(a,b,c,d,e,f,g){d=b['cp.mcu_dl_pids'];if(typeof d=='undefined')return;c=[{'878825473':'conv20'},{'125557723':'conv2000'},{'338433784':'conv2000'},{'482856764':'conv2000'},{'555918055':'conv2000'},{'672099634':'conv2000'},{'714023183':'conv2000'},{'752053654':'conv2000'},{'855885249':'conv2000'},{'888217753':'conv2000'},{'951652878':'conv2000'},{'828850477':'conv2000'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['floodlight_activity_dl_start']=c[e][f];m=true};};if(m)break};if(!m)b['floodlight_activity_dl_start']='conv2000';},function(a,b,c,d,e,f,g){d=b['cp.mcu_dl_pids'];if(typeof d=='undefined')return;c=[{'878825473':'digit0'},{'125557723':'digit0'},{'338433784':'digit0'},{'482856764':'digit0'},{'555918055':'digit0'},{'672099634':'digit0'},{'714023183':'digit0'},{'752053654':'digit0'},{'855885249':'digit0'},{'888217753':'digit0'},{'951652878':'digit0'},{'828850477':'digit0'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['floodlight_activity_group_dl_start']=c[e][f];m=true};};if(m)break};if(!m)b['floodlight_activity_group_dl_start']='digit0';},function(a,b,c,d,e,f,g){d=b['cp.mcu_dl_pids'];if(typeof d=='undefined')return;c=[{'878825473':'conv200'},{'125557723':'conv30'},{'338433784':'conv30'},{'482856764':'conv30'},{'555918055':'conv30'},{'672099634':'conv30'},{'714023183':'conv30'},{'752053654':'conv30'},{'855885249':'conv30'},{'888217753':'conv30'},{'951652878':'conv30'},{'828850477':'conv30'},{'mortgage':'conv30'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['floodlight_activity_dl_complete']=c[e][f];m=true};};if(m)break};if(!m)b['floodlight_activity_dl_complete']='conv30';},function(a,b,c,d,e,f,g){d=b['cp.mcu_dl_pids'];if(typeof d=='undefined')return;c=[{'878825473':'digit0'},{'125557723':'digit0'},{'338433784':'digit0'},{'482856764':'digit0'},{'555918055':'digit0'},{'672099634':'digit0'},{'714023183':'digit0'},{'752053654':'digit0'},{'855885249':'digit0'},{'888217753':'digit0'},{'951652878':'digit0'},{'828850477':'digit0'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['floodlight_activity_group_dl_complete']=c[e][f];m=true};};if(m)break};if(!m)b['floodlight_activity_group_dl_complete']='digit0';},function(a,b,c,d,e,f,g){d=b['qp.productIds'];if(typeof d=='undefined')return;c=[{'471678032':'Good To Grow TFSA High Interest Savings Account'},{'536570504':'Good To Grow RRSP High Interest Savings Account'},{'610753897':'RRSP Advantage Savings'},{'883973841':'TFSA Advantage Savings'},{'933467927;250217803':'2.50% 18-Month GIC'},{'933467927;435049186':'2.50% 18-Month GIC'},{'298204213;471678032':'TFSA 2.50% 18-Month GIC'},{'298204213;883973841':'TFSA 2.50% 18-Month GIC'},{'645405059;536570504':'RRSP 2.50% 18-Month GIC'},{'645405059;610753897':'RRSP 2.50% 18-Month GIC'},{'122348966;250217803':'1 to 5 Year Fixed Rate GIC (Non-Redeemable)'},{'122348966;435049186':'1 to 5 Year Fixed Rate GIC (Non-Redeemable)'},{'54102988;471678032':'TFSA 1 to 5 Year Fixed Rate GIC (Non-Redeemable)'},{'54102988;883973841':'TFSA 1 to 5 Year Fixed Rate GIC (Non-Redeemable)'},{'198186628;536570504':'RRSP 1 to 5 Year Fixed Rate GIC (Non-Redeemable)'},{'198186628;610753897':'RRSP 1 to 5 Year Fixed Rate GIC (Non-Redeemable)'},{'789908791;536570504':'RRSP 3 Year Escalator'},{'789908791;610753897':'RRSP 3 Year Escalator'},{'18446645':'Pay As You Go Chequing Account'},{'180300425':'Senior Chequing Account'},{'250217803':'Advantage Savings'},{'435049186':'Good To Grow High Interest Savings Account'},{'553087831':'Convenience Plus Package Chequing Account'},{'837312702':'Electronic Package Chequing Account'},{'873290536':'Limitless Chequing Account'},{'971513636':'Convenience Package Chequing Account'},{'735563103;471678032':'TFSA 3 Year Escalator'},{'735563103;883973841':'TFSA 3 Year Escalator'},{'839848734;536570504':'RRSP 5 Year Escalator'},{'839848734;610753897':'RRSP 5 Year Escalator'},{'927560358;471678032':'TFSA 5 Year Escalator'},{'927560358;883973841':'TFSA 5 Year Escalator'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['omo_product_name_start']=c[e][f];m=true};};if(m)break};if(!m)b['omo_product_name_start']='(not set)';},function(a,b,c,d,e,f,g){d=b['cp.mcu_omo_pids'];if(typeof d=='undefined')return;c=[{'471678032':'Good To Grow TFSA High Interest Savings Account'},{'536570504':'Good To Grow RRSP High Interest Savings Account'},{'610753897':'RRSP Advantage Savings'},{'883973841':'TFSA Advantage Savings'},{'933467927,250217803':'2.50% 18-Month GIC'},{'933467927,435049186':'2.50% 18-Month GIC'},{'298204213,471678032':'TFSA 2.50% 18-Month GIC'},{'298204213,883973841':'TFSA 2.50% 18-Month GIC'},{'645405059,536570504':'RRSP 2.50% 18-Month GIC'},{'645405059,610753897':'RRSP 2.50% 18-Month GIC'},{'122348966,250217803':'1 to 5 Year Fixed Rate GIC (Non-Redeemable)'},{'122348966,435049186':'1 to 5 Year Fixed Rate GIC (Non-Redeemable)'},{'54102988,471678032':'TFSA 1 to 5 Year Fixed Rate GIC (Non-Redeemable)'},{'54102988,883973841':'TFSA 1 to 5 Year Fixed Rate GIC (Non-Redeemable)'},{'198186628,536570504':'RRSP 1 to 5 Year Fixed Rate GIC (Non-Redeemable)'},{'198186628,610753897':'RRSP 1 to 5 Year Fixed Rate GIC (Non-Redeemable)'},{'789908791,536570504':'RRSP 3 Year Escalator'},{'789908791,610753897':'RRSP 3 Year Escalator'},{'18446645':'Pay As You Go Chequing Account'},{'180300425':'Senior Chequing Account'},{'250217803':'Advantage Savings'},{'435049186':'Good To Grow High Interest Savings Account'},{'553087831':'Convenience Plus Package Chequing Account'},{'837312702':'Electronic Package Chequing Account'},{'873290536':'Limitless Chequing Account'},{'971513636':'Convenience Package Chequing Account'},{'735563103,471678032':'TFSA 3 Year Escalator'},{'735563103,883973841':'TFSA 3 Year Escalator'},{'839848734,536570504':'RRSP 5 Year Escalator'},{'839848734,610753897':'RRSP 5 Year Escalator'},{'927560358,471678032':'TFSA 5 Year Escalator'},{'927560358,883973841':'TFSA 5 Year Escalator'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['omo_product_name_complete']=c[e][f];m=true};};if(m)break};if(!m)b['omo_product_name_complete']='(not set)';},function(a,b,c,d,e,f,g){d=b['cp.mcu_dl_pids'];if(typeof d=='undefined')return;c=[{'878825473':'Home Equity Line of Credit'},{'125557723':'3-Year Fixed Rate Mortgage'},{'338433784':'2-Year Fixed Rate Mortgage'},{'482856764':'7-Year Fixed Rate Mortgage'},{'555918055':'6-Month Fixed Rate Mortgage'},{'672099634':'4-Year Fixed Rate Mortgage'},{'714023183':'10-Year Fixed Rate Mortgage'},{'752053654':'5-Year Variable Rate Mortgage'},{'855885249':'5-Year Variable Rate Mortgage'},{'888217753':'1-Year Fixed Rate Mortgage'},{'951652878':'1-Year Open Fixed Rate Mortgage'},{'828850477':'1st Mortgage Retail/Church Conv - 5 Years Closed'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['dl_product_name']=c[e][f];m=true};};if(m)break};if(!m)b['dl_product_name']='(not set)';},function(a,b){utag.ut.sha512=function(a,m){var r={},f=r.lib={},g=function(){},l=f.Base={extend:function(a){g.prototype=this;var b=new g;a&&b.mixIn(a);b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)});b.init.prototype=b;b.$super=this;return b},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},p=f.WordArray=l.extend({init:function(a,b){a=this.words=a||[];this.sigBytes=b!=m?b:4*a.length},toString:function(a){return(a||q).stringify(this)},concat:function(a){var b=this.words,d=a.words,c=this.sigBytes;a=a.sigBytes;this.clamp();if(c%4)for(var j=0;j<a;j++)b[c+j>>>2]|=(d[j>>>2]>>>24-8*(j%4)&255)<<24-8*((c+j)%4);else if(65535<d.length)for(j=0;j<a;j+=4)b[c+j>>>2]=d[j>>>2];else b.push.apply(b,d);this.sigBytes+=a;return this},clamp:function(){var n=this.words,b=this.sigBytes;n[b>>>2]&=4294967295<<32-8*(b%4);n.length=a.ceil(b/4)},clone:function(){var a=l.clone.call(this);a.words=this.words.slice(0);return a},random:function(n){for(var b=[],d=0;d<n;d+=4)b.push(4294967296*a.random()|0);return new p.init(b,n)}}),y=r.enc={},q=y.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var d=[],c=0;c<a;c++){var j=b[c>>>2]>>>24-8*(c%4)&255;d.push((j>>>4).toString(16));d.push((j&15).toString(16))}return d.join("")},parse:function(a){for(var b=a.length,d=[],c=0;c<b;c+=2)d[c>>>3]|=parseInt(a.substr(c,2),16)<<24-4*(c%8);return new p.init(d,b/2)}},G=y.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var d=[],c=0;c<a;c++)d.push(String.fromCharCode(b[c>>>2]>>>24-8*(c%4)&255));return d.join("")},parse:function(a){for(var b=a.length,d=[],c=0;c<b;c++)d[c>>>2]|=(a.charCodeAt(c)&255)<<24-8*(c%4);return new p.init(d,b)}},fa=y.Utf8={stringify:function(a){try{return decodeURIComponent(escape(G.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data");}},parse:function(a){return G.parse(unescape(encodeURIComponent(a)))}},h=f.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new p.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=fa.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(n){var b=this._data,d=b.words,c=b.sigBytes,j=this.blockSize,l=c/(4*j),l=n?a.ceil(l):a.max((l|0)-this._minBufferSize,0);n=l*j;c=a.min(4*n,c);if(n){for(var h=0;h<n;h+=j)this._doProcessBlock(d,h);h=d.splice(0,n);b.sigBytes-=c}return new p.init(h,c)},clone:function(){var a=l.clone.call(this);a._data=this._data.clone();return a},_minBufferSize:0});f.Hasher=h.extend({cfg:l.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){h.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,d){return(new a.init(d)).finalize(b)}},_createHmacHelper:function(a){return function(b,d){return(new ga.HMAC.init(a,d)).finalize(b)}}});var ga=r.algo={};return r}(Math);(function(a){var m=utag.ut.sha512,r=m.lib,f=r.Base,g=r.WordArray,m=m.x64={};m.Word=f.extend({init:function(a,p){this.high=a;this.low=p}});m.WordArray=f.extend({init:function(l,p){l=this.words=l||[];this.sigBytes=p!=a?p:8*l.length},toX32:function(){for(var a=this.words,p=a.length,f=[],q=0;q<p;q++){var G=a[q];f.push(G.high);f.push(G.low)}return g.create(f,this.sigBytes)},clone:function(){for(var a=f.clone.call(this),p=a.words=this.words.slice(0),g=p.length,q=0;q<g;q++)p[q]=p[q].clone();return a}})})();(function(){function a(){return g.create.apply(g,arguments)}for(var m=utag.ut.sha512,r=m.lib.Hasher,f=m.x64,g=f.Word,l=f.WordArray,f=m.algo,p=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],y=[],q=0;80>q;q++)y[q]=a();f=f.SHA512=r.extend({_doReset:function(){this._hash=new l.init([new g.init(1779033703,4089235720),new g.init(3144134277,2227873595),new g.init(1013904242,4271175723),new g.init(2773480762,1595750129),new g.init(1359893119,2917565137),new g.init(2600822924,725511199),new g.init(528734635,4215389547),new g.init(1541459225,327033209)])},_doProcessBlock:function(a,f){for(var h=this._hash.words,g=h[0],n=h[1],b=h[2],d=h[3],c=h[4],j=h[5],l=h[6],h=h[7],q=g.high,m=g.low,r=n.high,N=n.low,Z=b.high,O=b.low,$=d.high,P=d.low,aa=c.high,Q=c.low,ba=j.high,R=j.low,ca=l.high,S=l.low,da=h.high,T=h.low,v=q,s=m,H=r,E=N,I=Z,F=O,W=$,J=P,w=aa,t=Q,U=ba,K=R,V=ca,L=S,X=da,M=T,x=0;80>x;x++){var B=y[x];if(16>x)var u=B.high=a[f+2*x]|0,e=B.low=a[f+2*x+1]|0;else{var u=y[x-15],e=u.high,z=u.low,u=(e>>>1|z<<31)^(e>>>8|z<<24)^e>>>7,z=(z>>>1|e<<31)^(z>>>8|e<<24)^(z>>>7|e<<25),D=y[x-2],e=D.high,k=D.low,D=(e>>>19|k<<13)^(e<<3|k>>>29)^e>>>6,k=(k>>>19|e<<13)^(k<<3|e>>>29)^(k>>>6|e<<26),e=y[x-7],Y=e.high,C=y[x-16],A=C.high,C=C.low,e=z+e.low,u=u+Y+(e>>>0<z>>>0?1:0),e=e+k,u=u+D+(e>>>0<k>>>0?1:0),e=e+C,u=u+A+(e>>>0<C>>>0?1:0);B.high=u;B.low=e}var Y=w&U^~w&V,C=t&K^~t&L,B=v&H^v&I^H&I,ha=s&E^s&F^E&F,z=(v>>>28|s<<4)^(v<<30|s>>>2)^(v<<25|s>>>7),D=(s>>>28|v<<4)^(s<<30|v>>>2)^(s<<25|v>>>7),k=p[x],ia=k.high,ea=k.low,k=M+((t>>>14|w<<18)^(t>>>18|w<<14)^(t<<23|w>>>9)),A=X+((w>>>14|t<<18)^(w>>>18|t<<14)^(w<<23|t>>>9))+(k>>>0<M>>>0?1:0),k=k+C,A=A+Y+(k>>>0<C>>>0?1:0),k=k+ea,A=A+ia+(k>>>0<ea>>>0?1:0),k=k+e,A=A+u+(k>>>0<e>>>0?1:0),e=D+ha,B=z+B+(e>>>0<D>>>0?1:0),X=V,M=L,V=U,L=K,U=w,K=t,t=J+k|0,w=W+A+(t>>>0<J>>>0?1:0)|0,W=I,J=F,I=H,F=E,H=v,E=s,s=k+e|0,v=A+B+(s>>>0<k>>>0?1:0)|0}m=g.low=m+s;g.high=q+v+(m>>>0<s>>>0?1:0);N=n.low=N+E;n.high=r+H+(N>>>0<E>>>0?1:0);O=b.low=O+F;b.high=Z+I+(O>>>0<F>>>0?1:0);P=d.low=P+J;d.high=$+W+(P>>>0<J>>>0?1:0);Q=c.low=Q+t;c.high=aa+w+(Q>>>0<t>>>0?1:0);R=j.low=R+K;j.high=ba+U+(R>>>0<K>>>0?1:0);S=l.low=S+L;l.high=ca+V+(S>>>0<L>>>0?1:0);T=h.low=T+M;h.high=da+X+(T>>>0<M>>>0?1:0)},_doFinalize:function(){var a=this._data,f=a.words,h=8*this._nDataBytes,g=8*a.sigBytes;f[g>>>5]|=128<<24-g%32;f[(g+128>>>10<<5)+30]=Math.floor(h/4294967296);f[(g+128>>>10<<5)+31]=h;a.sigBytes=4*f.length;this._process();return this._hash.toX32()},clone:function(){var a=r.clone.call(this);a._hash=this._hash.clone();return a},blockSize:32});m.SHA512=r._createHelper(f);m.HmacSHA512=r._createHmacHelper(f)})();try{if(typeof b['applicant_member_number']!='undefined'&&b['applicant_member_number']!=''){b['applicant_member_number']=utag.ut.sha512.SHA512(b['applicant_member_number']).toString();}}catch(e){};try{if(typeof b['omo_order_id']!='undefined'&&b['omo_order_id']!=''){b['omo_order_id']=utag.ut.sha512.SHA512(b['omo_order_id']).toString();}}catch(e){}},function(a,b){try{if(b['event_name'].toString().toLowerCase().indexOf('applicationSubmit'.toLowerCase())>-1){b['event']='conversion'}}catch(e){utag.DB(e)}}];utag.handler.cfg_extend=[{"blr":1,"alr":0,"bwq":0,"end":0,"id":"191"},{"bwq":0,"end":0,"id":"192","blr":1,"alr":0},{"alr":0,"blr":1,"id":"180","end":0,"bwq":0},{"alr":0,"blr":1,"id":"190","end":0,"bwq":0},{"alr":0,"blr":1,"id":"188","end":0,"bwq":0},{"id":"189","end":0,"bwq":0,"alr":0,"blr":1},{"bwq":0,"end":0,"id":"182","blr":1,"alr":0},{"id":"183","end":0,"bwq":0,"alr":0,"blr":1},{"blr":1,"alr":0,"bwq":0,"end":0,"id":"210"},{"blr":1,"alr":0,"bwq":0,"end":0,"id":"217"},{"bwq":0,"end":0,"id":"211","blr":1,"alr":0},{"bwq":0,"end":0,"id":"6","blr":0,"alr":1},{"id":"161","end":0,"bwq":0,"alr":1,"blr":0}];utag.loader.initcfg=function(){utag.loader.cfg={"2":{load:utag.cond[66],send:1,v:201905102115,wait:1,tid:7110},"24":{load:(utag.cond[107]||utag.cond[117]),send:1,v:201905061932,wait:1,tid:7110},"26":{load:(utag.cond[22]&&utag.cond[23]&&utag.cond[21]&&utag.cond[24]),send:1,v:201805161954,wait:1,tid:7110},"39":{load:1,send:1,v:201708171526,wait:1,tid:20010},"41":{load:utag.cond[47],send:1,v:201712062309,wait:1,tid:20010},"45":{load:utag.cond[29],send:1,v:201708171526,wait:1,tid:20010},"3":{load:1,send:1,v:201711061448,wait:1,tid:6026},"8":{load:1,send:1,v:201803232235,wait:1,tid:7129},"9":{load:1,send:1,v:201803232235,wait:1,tid:7129},"12":{load:1,send:1,v:201803232235,wait:1,tid:7117},"15":{load:utag.cond[13],send:1,v:201706301328,wait:1,tid:2045},"11":{load:utag.cond[15],send:1,v:201803232235,wait:1,tid:2045},"16":{load:(utag.cond[13]&&utag.cond[15]&&utag.cond[17]&&utag.cond[18]),send:1,v:201706301328,wait:1,tid:20067},"23":{load:utag.cond[15],send:1,v:201706301328,wait:1,tid:20067},"21":{load:utag.cond[15],send:1,v:201706301328,wait:1,tid:20067},"22":{load:utag.cond[13],send:1,v:201706301328,wait:1,tid:20067},"34":{load:utag.cond[25],send:1,v:201706301328,wait:1,tid:7110},"37":{load:utag.cond[25],send:1,v:201706301328,wait:1,tid:20010},"42":{load:utag.cond[28],send:1,v:201706301328,wait:1,tid:20067},"64":{load:1,send:1,v:201806011400,wait:1,tid:20011},"75":{load:1,send:1,v:201710041903,wait:1,tid:20067},"77":{load:utag.cond[42],send:1,v:201803021425,wait:1,tid:20067},"83":{load:utag.cond[48],send:1,v:201805161954,wait:1,tid:7110},"85":{load:1,send:1,v:201712142036,wait:1,tid:20067},"86":{load:utag.cond[50],send:1,v:201712142036,wait:1,tid:20067},"88":{load:utag.cond[48],send:1,v:201712150234,wait:1,tid:20010},"100":{load:utag.cond[61],send:1,v:201803122030,wait:1,tid:20067},"101":{load:utag.cond[17],send:1,v:201901111710,wait:1,tid:20067},"102":{load:utag.cond[62],send:1,v:201803201412,wait:1,tid:20067},"103":{load:utag.cond[17],send:1,v:201803232235,wait:1,tid:20067},"107":{load:utag.cond[68],send:1,v:201806051955,wait:1,tid:7110},"108":{load:utag.cond[67],send:1,v:201905102115,wait:1,tid:7110},"109":{load:utag.cond[65],send:1,v:201804232003,wait:1,tid:7110},"110":{load:utag.cond[69],send:1,v:201804232003,wait:1,tid:7110},"111":{load:utag.cond[71],send:1,v:201804232003,wait:1,tid:7110},"112":{load:utag.cond[75],send:1,v:201804232003,wait:1,tid:7110},"113":{load:utag.cond[73],send:1,v:201804232003,wait:1,tid:7110},"114":{load:utag.cond[79],send:1,v:201804232003,wait:1,tid:7110},"115":{load:utag.cond[81],send:1,v:201804232003,wait:1,tid:7110},"116":{load:utag.cond[78],send:1,v:201804232003,wait:1,tid:7110},"117":{load:utag.cond[77],send:1,v:201804232003,wait:1,tid:7110},"118":{load:utag.cond[70],send:1,v:201806051955,wait:1,tid:7110},"119":{load:utag.cond[72],send:1,v:201806051955,wait:1,tid:7110},"120":{load:utag.cond[74],send:1,v:201806051955,wait:1,tid:7110},"121":{load:utag.cond[76],send:1,v:201806051955,wait:1,tid:7110},"122":{load:utag.cond[82],send:1,v:201804232003,wait:1,tid:7110},"125":{load:utag.cond[84],send:1,v:201804232003,wait:1,tid:7110},"126":{load:utag.cond[85],send:1,v:201804232003,wait:1,tid:7110},"129":{load:utag.cond[88],send:1,v:201804232003,wait:1,tid:7110},"127":{load:utag.cond[89],send:1,v:201804232003,wait:1,tid:7110},"131":{load:utag.cond[90],send:1,v:201804232003,wait:1,tid:7110},"132":{load:utag.cond[91],send:1,v:201804232003,wait:1,tid:7110},"133":{load:utag.cond[92],send:1,v:201804232003,wait:1,tid:7110},"134":{load:utag.cond[94],send:1,v:201804232003,wait:1,tid:7110},"135":{load:utag.cond[93],send:1,v:201804232003,wait:1,tid:7110},"136":{load:utag.cond[95],send:1,v:201804232003,wait:1,tid:7110},"137":{load:utag.cond[96],send:1,v:201804232003,wait:1,tid:7110},"138":{load:utag.cond[97],send:1,v:201804232003,wait:1,tid:7110},"139":{load:utag.cond[98],send:1,v:201804232009,wait:1,tid:7110},"140":{load:utag.cond[100],send:1,v:201804301814,wait:1,tid:7110},"141":{load:utag.cond[101],send:1,v:201804232009,wait:1,tid:7110},"142":{load:utag.cond[103],send:1,v:201804232009,wait:1,tid:7110},"143":{load:utag.cond[102],send:1,v:201804232009,wait:1,tid:7110},"144":{load:utag.cond[104],send:1,v:201804301814,wait:1,tid:7110},"145":{load:utag.cond[106],send:1,v:201804301814,wait:1,tid:7110},"146":{load:utag.cond[105],send:1,v:201804301814,wait:1,tid:7110},"150":{load:1,send:1,v:201905102115,wait:1,tid:6026},"157":{load:1,send:1,v:201809121255,wait:1,tid:7132},"161":{load:utag.cond[17],send:1,v:201809181500,wait:1,tid:7132},"179":{load:1,send:1,v:201905102115,wait:1,tid:4049},"181":{load:1,send:1,v:201901111712,wait:1,tid:4049},"184":{load:utag.cond[114],send:1,v:201905311901,wait:1,tid:4049},"186":{load:(utag.cond[67]||utag.cond[115]||utag.cond[116]||utag.cond[48]),send:1,v:201905102115,wait:1,tid:20067},"190":{load:utag.cond[17],send:1,v:201906281451,wait:1,tid:20067}};utag.loader.cfgsort=["2","24","26","39","41","45","3","8","9","12","15","11","16","23","21","22","34","37","42","64","75","77","83","85","86","88","100","101","102","103","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","125","126","129","127","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","150","157","161","179","181","184","186","190"];}
utag.loader.initcfg();}
if(typeof utag_cfg_ovrd!='undefined'){for(var i in utag.loader.GV(utag_cfg_ovrd))utag.cfg[i]=utag_cfg_ovrd[i]};utag.loader.PINIT=function(a,b,c){utag.DB("Pre-INIT");if(utag.cfg.noload){return;}
try{this.GET();if(utag.handler.RE('view',utag.data,"blr")){utag.handler.LR(utag.data);}}catch(e){utag.DB(e)};a=this.cfg;c=0;for(b in this.GV(a)){if(a[b].block==1||(a[b].load>0&&(typeof a[b].src!='undefined'&&a[b].src!=''))){a[b].block=1;c=1;this.bq[b]=1;}}
if(c==1){for(b in this.GV(a)){if(a[b].block){a[b].id=b;if(a[b].load==4)a[b].load=1;a[b].cb=function(){var d=this.uid;utag.loader.cfg[d].cbf=1;utag.loader.LOAD(d)};this.AS(a[b]);}}}
if(c==0)this.INIT();};utag.loader.INIT=function(a,b,c,d,e){utag.DB('utag.loader.INIT');if(this.ol==1)return-1;else this.ol=1;if(utag.cfg.noview!=true)utag.handler.RE('view',utag.data,"alr");utag.rpt.ts['i']=new Date();d=this.cfgsort;for(a=0;a<d.length;a++){e=d[a];b=this.cfg[e];b.id=e;if(b.block!=1&&b.s2s!=1){if(utag.loader.bk[b.id]||((utag.cfg.readywait||utag.cfg.noview)&&b.load==4)){this.f[b.id]=0;utag.loader.LOAD(b.id)}else if(b.wait==1&&utag.loader.rf==0){utag.DB('utag.loader.INIT: waiting '+b.id);this.wq.push(b)
this.f[b.id]=2;}else if(b.load>0){utag.DB('utag.loader.INIT: loading '+b.id);this.lq.push(b);this.AS(b);}}}
if(this.wq.length>0)utag.loader.EV('','ready',function(a){if(utag.loader.rf==0){utag.DB('READY:utag.loader.wq');utag.loader.rf=1;utag.loader.WQ();}});else if(this.lq.length>0)utag.loader.rf=1;else if(this.lq.length==0)utag.loader.END();return 1};utag.loader.EV('','ready',function(a){if(utag.loader.efr!=1){utag.loader.efr=1;try{(function(){try{var thresholds=[30,60];var timers=[];var sendTimerData=(function(time){var action=time+" seconds";if(!!time){utag.link({"event_name":"pageTimer","event_category":"Page Timer","event_action":action,"event_label":document.location.pathname,"event_non_interaction":0});}}).bind(thresholds);for(var i=0,x=thresholds.length;i<x;i++){var val=thresholds[i];timers[i]=window.setTimeout(sendTimerData,thresholds[i]*1000,val);}}catch(e){}}());}catch(e){utag.DB(e)};try{(function(){var thresholds=[35,50,95];try{var interval=200;var minInterval=1;var windowHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var scrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;var pageHeight=document.body.scrollHeight;var lastTime=Date.now();var loadTime=lastTime;var thisTime=lastTime;var scroll={percent:0,sinceLoad:0,sinceLast:0};var i=0;var x=0;var currentTreshold=0;var lastTreshold=0;if(windowHeight/pageHeight*100<thresholds[thresholds.length-1]&&((windowHeight+scrollTop)/pageHeight)*100<thresholds[thresholds.length-1]){var checkScroll=setInterval(function(){var action;scrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;thresholds.forEach(function(item){if(((windowHeight+scrollTop)/pageHeight)*100>=item){currentTreshold=item;}});thisTime=Date.now();scroll.sinceLoad=(thisTime-loadTime)/1000;if(currentTreshold>lastTreshold&&scroll.sinceLoad>minInterval){scroll.percent=currentTreshold;scroll.sinceLast=(thisTime-lastTime)/1000;lastTime=thisTime;lastTreshold=currentTreshold;action=scroll.percent+"%";utag.link({"event_name":"pageScroll","event_category":"Page Scroll","event_action":action,"event_label":document.location.pathname,"event_non_interaction":0});if(lastTreshold===thresholds.length-1){clearInterval(checkScroll);}}else if(currentTreshold>lastTreshold&&scroll.sinceLoad<minInterval){lastTreshold=currentTreshold;}},interval);}}catch(e){}}());}catch(e){utag.DB(e)};try{if(typeof utag.linkHandler=='undefined'){utag.linkHandler=function(a,b,c,d,e){if(!a)a=window.event;if(a.target)b=a.target;else if(a.srcElement)b=a.srcElement;if(b.nodeType==3)b=b.parentNode;if(typeof b=='undefined'||typeof b.tagName=='undefined')return;c=b.tagName.toLowerCase();if(c=='body')return;if(c!='a'){for(d=0;d<5;d++){if(typeof b!='undefined'&&b.parentNode)b=b.parentNode;c=(b!=null&&b.tagName)?b.tagName.toLowerCase():'';if(c=='a')break;else if(c=='body')return;}}
if(c!='a')return;var lt=b.text?b.text:b.innerText?b.innerText:'';if((lt==''||/^\s+$/.test(lt))&&typeof b.innerHTML!='undefined'){lt=b.innerHTML.toLowerCase();if(lt.indexOf('<img ')>-1){d=lt.indexOf('alt="');if(d>-1){e=lt.indexOf('"',d+5);lt=lt.substring(d+5,e);}else{d=lt.indexOf('src="');if(d>-1){e=lt.indexOf('"',d+5);lt=lt.substring(d+5,e);}}}}
var hr=b.href,hrnq=(b.href.split('?'))[0];var obj={link_obj:b,link_text:lt,link_url:hr,link_type:'exit link',event_name:'linkClick'};c=[location.hostname].concat(('javascript:,meridiancu.ca,localhost,joinmcu.ca').split(','));for(d=0;d<c.length;d++){if(hrnq.indexOf(c[d])>-1){obj.link_type='link';break;}};c=('exe,zip,wav,mp3,mov,mpg,avi,wmv,doc,pdf,xls').split(',');for(d=0;d<c.length;d++){e=new RegExp(c[d]+'$');if(e.test(hrnq)){obj.link_type='download link';break;}};try{var link=b;(function(){var int_urls=/meridiancu\.ca|meridian-uat\.poweredbygrow\.com/i;var relative_urls=/^\/.*$/i;var phone_urls=/^tel:/i;var email_urls=/^mailto:/i;if((int_urls.test(obj.link_url))&&obj.link_obj.hash.length>0&&obj.link_type!="download link"){var hashurlpieces=obj.link_url.split("#");var pageurlpieces=window.location.href.split("#");if(window.location.hostname=="www.meridiancu.ca"&&pageurlpieces[0]==hashurlpieces[0]){utag.view({vpv_name:obj.link_obj.pathname+obj.link_obj.hash});}}else if(phone_urls.test(obj.link_url)){}else if(email_urls.test(obj.link_url)){utag.link({"event_name":"linkClick","event_category":"Email","event_action":obj.link_url,"event_label":document.location.pathname,"cm_email":"1","event_non_interaction":0});}else if(!int_urls.test(obj.link_url)&&!relative_urls.test(obj.link_url)){utag.link({"event_name":"linkClick","event_category":"Outbound","event_action":obj.link_url,"event_label":document.location.pathname,"cm_outbound":"1","event_non_interaction":0});}else if(obj.link_type==="download link"){utag.link({"event_name":"linkClick","event_category":"Downloads","event_action":obj.link_url,"event_label":document.location.pathname,"cm_download":"1","event_non_interaction":0});}}());}catch(e){};utag.link(obj)}
utag.loader.EV(document,'mousedown',utag.linkHandler);}}catch(e){utag.DB(e)};try{jQuery(document).ready(function(e){jQuery('[data-track_location]').on("click",function(e){var action=jQuery(this).attr("data-track_action");var location=jQuery(this).attr("data-track_location");if(!!!action){action="Click";}
utag.link({"event_name":"inPageInteraction","event_category":"On Page Interactions","event_action":action,"event_label":location,"event_non_interaction":0});});});}catch(e){utag.DB(e)};try{try{if(1){if(!utag_data.error){utag.link({"event_name":"error","event_category":"Error","event_action":utag_data.error,"event_label":window.location.hostname+window.location.pathname,"event_non_interaction":1});}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){(function IIFE_digital_lending_tracking(){function setCookie(data,cookieName,daysToExpiry){var expiry=new Date(new Date().getTime()+60*60*1000*24*daysToExpiry);var hostname=document.location.hostname.split(".").slice(-1*2).join(".");document.cookie=cookieName+'='+data+';domain='+hostname+'; path=/; expires='+expiry.toGMTString()+';';}
function readCookie(cookieName){var cookieStart=document.cookie.indexOf(cookieName);var cookieValue=null;if(cookieStart>-1){var cookieEnd=document.cookie.indexOf(';',cookieStart);if(cookieEnd===-1)cookieEnd=document.cookie.length;cookieValue=decodeURIComponent(document.cookie.substring(cookieStart+cookieName.length,cookieEnd));}
return cookieValue;}
try{"use strict";var elements,currentStep,steps,sentStage,rateHeld,tempText;if(!!~document.location.hostname.indexOf("lending")){if(!!~document.location.pathname.toLowerCase().indexOf("createprofile")&&!!document.querySelectorAll("ul.steps li.selected a").length>0){elements=document.querySelectorAll("ul.steps li.selected a");currentStep=elements[elements.length-1];if(!!currentStep&&!!currentStep.getAttribute("data-dl-action")){currentStep=currentStep.getAttribute("data-dl-action");utag.view({"vpv_name":document.location.pathname+"[vpv/"+currentStep+"]"});}}
if(!!~document.location.pathname.toLowerCase().indexOf("dashboard")&&!!document.querySelectorAll(".stepper-content-wrap div.completed.dashboard-step").length>0){elements=document.querySelectorAll(".stepper-content-wrap div.completed.dashboard-step");steps=elements.length;sentStage=+readCookie("tiq_lending_cs").replace("=","");rateHeld=readCookie("tiq_lending_rh");currentStep=elements[steps-1];sentStage=isNaN(sentStage)?0:sentStage;if(sentStage<steps&&!!currentStep&&!!currentStep.parentNode.parentNode.innerText){currentStep=currentStep.parentNode.parentNode.innerText.trim().split('\n')[0];if(!!currentStep){utag.view({"vpv_name":document.location.pathname+"[vpv/CurrentStage/"+steps+"/"+currentStep+"]"});if(document.querySelector("div.credit-score").classList.contains("unknown")){utag.view({"vpv_name":document.location.pathname+"[vpv/credit-score/unkown]"});}else{utag.view({"vpv_name":document.location.pathname+"[vpv/credit-score/available]"});}}
setCookie(steps,"tiq_lending_cs");}
if(!rateHeld){if(!!document.querySelector("div.ribbon div.vertically-centered:nth-child(2) h3")&&!!document.querySelector("div.ribbon div.vertically-centered:nth-child(2) p")){tempText=document.querySelector("div.ribbon div.vertically-centered:nth-child(2) h3").innerText.trim().replace(/\s/g,"-").replace("%-","-percent/")+"/"+document.querySelector("div.ribbon div.vertically-centered:nth-child(2) p").innerText.trim().replace(/\s/g,"-").replace(",","");tempText=tempText.toLowerCase();utag.view({"vpv_name":document.location.pathname+"[vpv/application-started/"+tempText+"]"});}
setCookie("yes","tiq_lending_rh");}}
if(!!~document.location.pathname.toLowerCase().indexOf("messages")){if(!!document.querySelector("div.compose.secure-message")){utag.view({"vpv_name":document.location.pathname+"[vpv/compose-a-message]"});}else if(!!document.querySelector("div.message.success")){utag.view({"vpv_name":document.location.pathname+"[vpv/message-sent-successfully]"});}else if(!!document.querySelector("div.read.secure-message")){utag.view({"vpv_name":document.location.pathname+"[vpv/read-secure-message]"});}}
function addChatListener(){if(!!document.querySelector("a#hbrlink")){document.querySelector("a#hbrlink").addEventListener("click",function(item){utag.view({"vpv_name":document.location.pathname+"[vpv/open-chat]"});});}else{setTimeout(addChatListener,2000);}}
window.onload=function(){setTimeout(addChatListener,2000);};if(!!document.querySelector("#FileLabel")&&!!~document.location.pathname.toLowerCase().indexOf("documents")){document.querySelector("#FileLabel").addEventListener("click",function(item){utag.view({"vpv_name":document.location.pathname+"[vpv/start-file-upload]"});});}}}catch(e){}})();}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((typeof utag.data['dom.domain']!='undefined'&&utag.data['dom.domain'].toString().toLowerCase().indexOf('loans.meridiancu.ca'.toLowerCase())>-1)){document.addEventListener('click',function(e){if(e.target&&e.target.id=='step-submit'){var formProgress=document.location.pathname.split('/');if(formProgress[3]!=null){formProgress=formProgress[3];}else{formProgress=formProgress[1];}
var email_id=document.getElementById("email");if(email_id!=null){email_id=document.getElementById("email").value;}else{email_id=document.getElementsByClassName('Fnfwq')[0].innerHTML;}
var enc=CryptoJS.AES.encrypt(email_id,'0733865324').toString();utag.link({"event_category":"UnsecureLoanApplications","event_action":formProgress,"event_label":enc,"event_value":"1","event_non_interaction":0});}})
}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(/meridian-uat\.poweredbygrow\.com|loans\.meridiancu\.ca/i.test(utag.data['js_page.document.location.hostname'])){var pageReady=false;var maxAttempts=20;var currentAttempt=1;var rootElement=document.querySelector("#AppRoot");function CICFormTracking(){if(pageReady==true){var $CICS=window.$CICS||{};$CICS.forms={maxTime:30*60*1000,validationMessageSelectors:"form > div.validation_error, div.validation_message",successMessageSelectors:"div.success_message, div.thank_you, div[id*='confirmation]'",successCheckInterval:2000,maxIntervalChecks:30,skipValuesInFields:/password|(credit.*card)|(user.*name)|(^sin$)|(social\s*insurance)/i};var dynamicElementGroups=0;Array.prototype.forEach||(Array.prototype.forEach=function(c,f){var d,a;if(null===this)throw new TypeError(" this is null or not defined");var b=Object(this),g=b.length>>>0;if("function"!==typeof c)throw new TypeError(c+" is not a function");1<arguments.length&&(d=f);for(a=0;a<g;){var e;a in b&&(e=b[a],c.call(d,e,a,b));a++}});Array.prototype.filter||(Array.prototype.filter=function(c){if(void 0===this||null===this)throw new TypeError;var b=Object(this),f=b.length>>>0;if("function"!==typeof c)throw new TypeError;for(var d=[],g=2<=arguments.length?arguments[1]:void 0,a=0;a<f;a++)if(a in b){var e=b[a];c.call(g,e,a,b)&&d.push(e)}return d});(function(){var f=Array.prototype.slice;try{f.call(document.documentElement)}catch(h){Array.prototype.slice=function(g,b){b="undefined"!==typeof b?b:this.length;if("[object Array]"===Object.prototype.toString.call(this))return f.call(this,g,b);var a,e=[],c;a=this.length;var d=g||0,d=0<=d?d:Math.max(0,a+d);c="number"==typeof b?Math.min(b,a):a;0>b&&(c=a+b);c-=d;if(0<c)if(e=Array(c),this.charAt)for(a=0;a<c;a++)e[a]=this.charAt(d+a);else for(a=0;a<c;a++)e[a]=this[d+a];return e}}})();(function(){Event.prototype.preventDefault||(Event.prototype.preventDefault=function(){this.returnValue=!1});Event.prototype.stopPropagation||(Event.prototype.stopPropagation=function(){this.cancelBubble=!0});if(!Element.prototype.addEventListener){var f=[],c=function(b,g){var d=this,a=function(a){a.target=a.srcElement;a.currentTarget=d;"undefined"!=typeof g.handleEvent?g.handleEvent(a):g.call(d,a)};if("DOMContentLoaded"==b){var c=function(b){"complete"==document.readyState&&a(b)};document.attachEvent("onreadystatechange",c);f.push({object:this,type:b,listener:g,wrapper:c});if("complete"==document.readyState){var e=new Event;e.srcElement=window;c(e)}}else this.attachEvent("on"+b,a),f.push({object:this,type:b,listener:g,wrapper:a})},e=function(b,c){for(var d=0;d<f.length;){var a=f[d];if(a.object==this&&a.type==b&&a.listener==c){"DOMContentLoaded"==b?this.detachEvent("onreadystatechange",a.wrapper):this.detachEvent("on"+b,a.wrapper);f.splice(d,1);break}++d}};Element.prototype.addEventListener=c;Element.prototype.removeEventListener=e;HTMLDocument&&(HTMLDocument.prototype.addEventListener=c,HTMLDocument.prototype.removeEventListener=e);Window&&(Window.prototype.addEventListener=c,Window.prototype.removeEventListener=e)}})();Element.prototype.findClosest||(Element.prototype.findClosest=function(c){for(var a=this,b=a.querySelector(c);!b&&a;)(a=a.parentElement)&&(b=a.querySelector(c));return b});(function IIFEformTracking(){if(!document.querySelectorAll||!document.querySelector){return;}
try{var padZeros=function(n,width){var z='0';n=n+'';return n.length>=width?n:new Array(width-n.length+1).join(z)+n;};var forms=Array.prototype.slice.call(rootElement.querySelectorAll("form"));var fields={};var history={};var inputs=rootElement.querySelectorAll("input, select, textarea, [data-type='select-easy']");for(var i=0;i<inputs.length;i++){inputs[i].setAttribute("data-gtm-form-field-index",padZeros((i+1),2));}
var enterField=function(name,formName){if(!fields[formName]){fields[formName]=[];}
fields[formName][name]=new Date().getTime();};var getName=function(e){return e&&(e.getAttribute("name")||e.getAttribute("id"));}
var getFormHeader=function(form){var item=!!form?form.findClosest("h1,h2"):undefined;return!!item?item.innerText.trim():undefined;}
var getFormID=function(e){var unsecuredFormSection=undefined;if(!!rootElement.querySelector("main > div > div[id]")){unsecuredFormSection=rootElement.querySelector("main > div > div[id]").getAttribute("id");}
return e&&(unsecuredFormSection||e.getAttribute("name")||e.getAttribute("id")||getFormHeader(e)||window.location.href);}
var findAncestorByClass=function(e,parentClass){while((e=e.parentElement)&&!e.classList.contains(parentClass));return e;};var findAncestorByAttribute=function(e,parentAttribute,value){while((e=e.parentElement)&&(!e.getAttribute(parentAttribute)||e.getAttribute(parentAttribute)!==value));return e;};var usedSubindexes=[];var indexNewElements=function(usedSubindexes){var elements=rootElement.querySelectorAll("input, select, textarea, [data-type='select-easy']");var alreadyIndexedElement=rootElement.querySelector("[data-gtm-form-field-index]");if(!!elements&&elements.length>1&&!!alreadyIndexedElement){var lastAttributeVal=null;var subindex=0;for(var x=0;x<elements.length;x++){var attributeval=elements[x].getAttribute('data-gtm-form-field-index');if(!!attributeval&&attributeval.indexOf("-")===-1){lastAttributeVal=attributeval;subindex=0;}else if(!attributeval&&!!lastAttributeVal){var newsubindex=lastAttributeVal+"-"+padZeros((subindex+1),2);var subindexloopcounter=0;while(usedSubindexes.indexOf(newsubindex)>-1){subindexloopcounter++;newsubindex=lastAttributeVal+"-"+padZeros((subindex+1),2);subindex++;}
elements[x].setAttribute('data-gtm-form-field-index',padZeros(newsubindex,2));usedSubindexes.push(newsubindex);}else if(!lastAttributeVal&&!attributeval){var indexed=rootElement.querySelectorAll("[data-gtm-form-field-index]");var startIndex=indexed.length+1;if(indexed.length===1){}
elements[x].setAttribute('data-gtm-form-field-index',padZeros(startIndex,2));}}}else if(!alreadyIndexedElement){var inputs=rootElement.querySelectorAll("form input, form select, form textarea, form [data-type='select-easy']");for(var i=0;i<inputs.length;i++){inputs[i].setAttribute("data-gtm-form-field-index",padZeros((i+1),2));}}};var newIndexInterval=setInterval(function(){indexNewElements(usedSubindexes)},500);var getElementLabel=function(e){if(!!e){var elemName=e.getAttribute("name");var elemId=e.getAttribute("id");var elemPlaceholder=e.getAttribute("placeholder");var maxLevelsToGoUp=2;var elemToCheck=e;for(var i=0;i<maxLevelsToGoUp;i++){elemToCheck=elemToCheck.parentElement;var possibleLabel=elemToCheck.querySelector("label");if(!!possibleLabel){var labelText=possibleLabel.innerText.replace(/(\*)|:|(\n.+)/ig,"").trim();if(!!labelText&&labelText.length>0){return labelText;}}}
return elemName||elemId||elemPlaceholder||false;}
return false;};var leaveField=function(e){var form=e.target.form,formData={},fieldName=getName(e.target),formName=getFormID(form),fieldLabel,fieldValue;if(e.target.type=="submit"){}else if(e.target.type=="reset"){delete history[formName];}else{fieldLabel=getElementLabel(e.target);if(fieldLabel==getFormHeader(form)){fieldLabel=undefined;}
fieldValue=e.target.value||"";if((fieldName&&fieldName.match($CICS.forms.skipValuesInFields)!==null)||(fieldLabel&&fieldLabel.match($CICS.forms.skipValuesInFields)!==null)){fieldValue="Private Information Removed";}
if(!!form&&!!fieldName){if(!history[formName]){history[formName]={form:form,name:[],label:[],lastName:undefined,lastLabel:undefined};}
if(history[formName].name.slice(-1)!=fieldName){history[formName].name.push(fieldName);history[formName].label.push(fieldLabel);history[formName].lastName=fieldName;history[formName].lastLabel=fieldLabel;}}
if(!!formName&&fields.hasOwnProperty(formName)&&!!fieldName&&fields[formName].hasOwnProperty(fieldName)){formData={name:form.getAttribute("name"),id:form.getAttribute("id"),header:getFormHeader(form),validationName:formName,field:{name:e.target.name,id:e.target.id,label:fieldLabel,value:fieldValue,timeSpent:new Date().getTime()-fields[formName][fieldName],leaveType:(e.type.indexOf('change')!==-1)?"change":"no-change",validationName:fieldName,legend:e.target.findClosest("legend")&&e.target.findClosest("legend").innerText.trim(),index:e.target.getAttribute("data-gtm-form-field-index")||""}};if(formData.field.timeSpent>0&&formData.field.timeSpent<$CICS.forms.maxTime){var field_name;if(!!fieldName){field_name=fieldName.split(/\$|,/);field_name=(!!formData.field.legend?formData.field.legend+"/":"")+field_name[field_name.length-1];}else{field_name=(!!formData.field.legend?formData.field.legend+"/":"")+formData.field.name;}
if(formData.field.leaveType!=="no-change"){utag.link({"event_name":"form_change_field","event_category":"Forms","event_action":"Change Field","event_label":field_name,"event_non_interaction":0,"cd23":formData.field.index});}}
delete fields[formName][fieldName];}}};if(!!forms&&forms.length>0){forms.forEach(function(form){var tmp;form.addEventListener('focus',function(e){enterField((e.target.name||e.target.id),getFormID(form));},true);form.addEventListener('blur',function(e){leaveField(e);},true);form.addEventListener('change',function(e){leaveField(e);},true);if(!!window.MutationObserver||!!window.WebKitMutationObserver||!!window.MozMutationObserver){var MutationObserver=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;var elements=Array.prototype.slice.call(form.querySelectorAll("input"));var config={attributes:true,childList:true,characterData:true};var observer=new MutationObserver(function(mutations){mutations.forEach(function(mutation){setTimeout(function(){if(mutation.type==='attributes'&&mutation.attributeName&&mutation.attributeName.match(/checked/i)!==null&&!!mutation.target.checked&&!fields[getName(mutation.target)]){var fieldName=getName(mutation.target),formName=getFormID(form),fieldLabel=getElementLabel(mutation.target),formData={};if(!!form&&!!fieldName){if(!history[formName]){history[formName]={form:form,name:[],label:[],lastName:undefined,lastLabel:undefined};}
if(history[formName].name.slice(-1)!=fieldName){history[formName].name.push(fieldName);history[formName].label.push(fieldLabel);history[formName].lastName=fieldName;history[formName].lastLabel=fieldLabel;}}
formData={name:form.getAttribute("name"),id:form.getAttribute("id"),header:getFormHeader(form),validationName:formName,field:{name:mutation.target.name,id:mutation.target.id,label:fieldLabel,value:mutation.target.value||"",leaveType:"change",validationName:fieldName,legend:e.target.findClosest("legend")&&e.target.findClosest("legend").innerText.trim(),index:mutation.target.getAttribute("data-gtm-form-field-index")||""}};var field_name;if(!!fieldName){field_name=fieldName.split(/\$|,/);field_name=(!!formData.field.legend?formData.field.legend+"/":"")+field_name[field_name.length-1];}else{field_name=(!!formData.field.legend?formData.field.legend+"/":"")+formData.field.name;}
if(formData.field.leaveType!=="no-change"){utag.link({"event_name":"form_change_field","event_category":"Forms","event_action":"Change Field","event_label":field_name,"event_non_interaction":0,"cd23":formData.field.index});}}},500);});});elements.forEach(function(target){observer.observe(target,config);});}});}
var selectEasyValues=[];rootElement.addEventListener('click',function(e){if(!!findAncestorByAttribute(e.target,"data-type","select-easy")){var buttonElem=undefined;if(!!e.target.getAttribute("data-active")){buttonElem=e.target;}else if(!!e.target.parentElement&&!!e.target.parentElement.getAttribute("data-active")){buttonElem=e.target.parentElement;}
if(!!buttonElem){var buttonId=buttonElem.parentElement.parentElement.getAttribute("id");if(!selectEasyValues[buttonId]||(!!selectEasyValues[buttonId]&&selectEasyValues[buttonId]!=buttonElem.innerText.trim())){var selectEasyShell=findAncestorByAttribute(buttonElem,"data-type","select-easy");var shellIndex=selectEasyShell.getAttribute("data-gtm-form-field-index");utag.link({"event_name":"form_change_field","event_category":"Forms","event_action":"Change Field","event_label":buttonId,"event_non_interaction":0,"cd23":shellIndex});selectEasyValues[buttonId]=buttonElem.innerText.trim();}}}
});var selectSearchValues=[];var processSearchComboboxes=function(){var allSearchComboboxes=rootElement.querySelectorAll("[data-type='select-search']");for(var y=0;y<allSearchComboboxes.length;y++){var currentComboboxParent=allSearchComboboxes[y];var comboboxid=null;var formFieldIndex=null;if(!!currentComboboxParent.querySelector("[data-gtm-form-field-index]")){formFieldIndex=currentComboboxParent.querySelector("[data-gtm-form-field-index]").getAttribute("data-gtm-form-field-index");}
if(!!currentComboboxParent.children[0]){comboboxid=currentComboboxParent.children[0].getAttribute("id");}
var comboboxvalue=null;if(!!currentComboboxParent.querySelector(".Select-value-label")){comboboxvalue=currentComboboxParent.querySelector(".Select-value-label").innerText.trim();}
if(!!comboboxid&&!!formFieldIndex&&selectSearchValues[comboboxid]!==undefined&&selectSearchValues[comboboxid]!=comboboxvalue){utag.link({"event_name":"form_change_field","event_category":"Forms","event_action":"Change Field","event_label":comboboxid,"event_non_interaction":0,"cd23":formFieldIndex});selectSearchValues[comboboxid]=comboboxvalue;}else if(!!comboboxid&&!!formFieldIndex&&selectSearchValues[comboboxid]===undefined){selectSearchValues[comboboxid]=comboboxvalue;}}};setInterval(function(){processSearchComboboxes();},500);var resetFormTracking=function(forms,fields,history){forms=Array.prototype.slice.call(rootElement.querySelectorAll("form"));fields={};history={};if(!!forms&&forms.length>0){forms.forEach(function(form){form.addEventListener('focus',function(e){enterField((e.target.name||e.target.id),getFormID(form));},true);form.addEventListener('blur',function(e){leaveField(e);},true);form.addEventListener('change',function(e){leaveField(e);},true);var inputs=form.querySelectorAll("input, select, textarea, [data-type='select-easy']");if(!!inputs&&inputs.length>1){for(var i=0;i<inputs.length;i++){inputs[i].setAttribute("data-gtm-form-field-index",padZeros((i+1),2));}}});}};var historyChangeInputCheck=function(){var newInputCheck=setInterval(function(){var inputs=rootElement.querySelectorAll("input, select, textarea, [data-type='select-easy']");if(!!inputs&&inputs.length>1){resetFormTracking();clearInterval(newInputCheck);}else if(currentAttempt>=maxAttempts){clearInterval(newInputCheck);}
currentAttempt++;},1000);};var lastPushedPage=null;function sendPageView(){var pagePath=document.location.pathname;var queryString=document.location.href.split("?",2);var pageName=pagePath;if(queryString.length>1){pageName+="?"+queryString[1];}
if(lastPushedPage!=pageName){utag.view({'page_name':pageName,'vpv_name':pageName});lastPushedPage=pageName;}};sendPageView();window.addEventListener('hashchange',function(){setTimeout(function(){sendPageView();},500);historyChangeInputCheck();});window.history.onpushstate=function(e){setTimeout(function(){sendPageView();},500);historyChangeInputCheck();};}catch(e){console.trace();utag.link({"event_name":"form_tracking_error","event_category":"Forms","event_action":"Error","event_label":e.message.substr(0,100),"event_non_interaction":0});}})();}}
var inputCheck=setInterval(function(){var inputs=rootElement.querySelectorAll("input, select, textarea, [data-type='select-easy']");if(!!inputs&&inputs.length>1){pageReady=true;CICFormTracking();clearInterval(inputCheck);}else if(currentAttempt>=maxAttempts){clearInterval(inputCheck);}
currentAttempt++;},1000);}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['js_page.document.location.hostname'].toString().toLowerCase().indexOf('banking.meridiancu.ca'.toLowerCase())>-1||utag.data['js_page.document.location.hostname'].toString().toLowerCase().indexOf('uatbanking.meridiancu.ca'.toLowerCase())>-1){if(!!utag_data["customer_id"]){var cookieexpiry=2*365*24*60*60*1000;try{persistentStorage.writeCookie("mcu_rob_uid",utag_data["customer_id"],cookieexpiry);}catch(e){}}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((typeof utag.data['dom.domain']!='undefined'&&utag.data['dom.domain'].toString().toLowerCase().indexOf('join.meridiancu.ca'.toLowerCase())>-1)){$("#agree").click(function(){var applicationCategory;if(document.getElementById("term_section")!==null){applicationCategory="OMO_Application_GIC"}else{applicationCategory="OMO_Application_Saving-Chequing"}
var get_email=document.getElementById("f_email"),email_id;if(get_email!=null){email_id=document.getElementById("f_email").value;}
var enc=CryptoJS.AES.encrypt(email_id,'0733865324').toString();utag.link({"event_category":applicationCategory,"event_action":"Application Step 1","event_label":enc,"event_value":"1","event_non_interaction":0});console.log(applicationCategory);});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(/banking.meridiancu.ca|uatbanking.meridiancu.ca/.test(utag.data['js_page.document.location.hostname'])){window.addEventListener("load",function(){if(document.location.href.toLowerCase().indexOf("accounts_accountsummary")>-1&&!!utag_data["customer_id"]){var account_positions=[];if(!!utag_data["product_rowno"]){var accts=utag_data["product_rowno"].length;for(var i=0;i<accts;i++){account_positions.push((i+1)+"");}}
utag.link({"event_name":"roblogin","customer_type":utag_data["customer_type"],"customer_age":utag_data["customer_age"],"customer_city":utag_data["customer_city"],"customer_gender":utag_data["customer_gender"],"customer_id":utag_data["customer_id"],"customer_province":utag_data["customer_province"],"account_positions":account_positions,"product_rowno":utag_data["product_rowno"],"product_balance":utag_data["product_balance"]});}});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){(function(){window.addEventListener("load",function(){function pad(num){if(+num<10){return"0"+num;}else{return""+num;}}
var tokencookieexpiry=(1000*60*2);var pagePath=window.location.pathname.toLowerCase();if(!!pagePath&&pagePath.indexOf("products_depositcompletion")>-1){var accountInfoContainer=document.querySelector("div.card-content > div:nth-child(3) div");if(!!accountInfoContainer){var accountType=accountInfoContainer.innerText.trim();utag.link({"event_name":"rob_open_account","event_action":accountType});}}else if(!!pagePath&&pagePath.indexOf("billpayments_paymentsetup")>-1){utag.link({"event_name":"rob_start_bill_payment"});}else if(!!pagePath&&pagePath.indexOf("billpayments_paymentreview")>-1){var submit=document.querySelector("input[type=submit]");submit.addEventListener("click",function(){persistentStorage.writeCookie("mcu_rob_bpt","1",tokencookieexpiry);});}else if(!!pagePath&&pagePath.indexOf("transfers_transfersetup")>-1){var tcbs=document.querySelectorAll("[role=combobox]:not(.transfer-type-selector)");var tinputs=document.querySelectorAll("input");var tstarted=0;for(var i=0;i<tcbs.length;i++){tcbs[i].addEventListener("click",function(){if(tstarted===0){utag.link({"event_name":"rob_start_transfer"});tstarted=1;}})}
for(var i=0;i<tinputs.length;i++){tinputs[i].addEventListener("click",function(){if(tstarted===0){utag.link({"event_name":"rob_start_transfer"});tstarted=1;}});tinputs[i].addEventListener("blur",function(){if(tstarted===0){utag.link({"event_name":"rob_start_transfer"});tstarted=1;}});tinputs[i].addEventListener("focus",function(){if(tstarted===0){utag.link({"event_name":"rob_start_transfer"});tstarted=1;}});}}else if(!!pagePath&&pagePath.indexOf("emt_emtsetup")>-1){var etcbs=document.querySelectorAll("[role=combobox]:not(.transfer-type-selector)");var etinputs=document.querySelectorAll("input");var etstarted=0;for(var i=0;i<etcbs.length;i++){etcbs[i].addEventListener("click",function(){if(etstarted===0){utag.link({"event_name":"rob_start_etransfer_send"});etstarted=1;}})}
for(var i=0;i<etinputs.length;i++){etinputs[i].addEventListener("click",function(){if(etstarted===0){utag.link({"event_name":"rob_start_etransfer_send"});etstarted=1;}});etinputs[i].addEventListener("blur",function(){if(etstarted===0){utag.link({"event_name":"rob_start_etransfer_send"});etstarted=1;}});etinputs[i].addEventListener("focus",function(){if(etstarted===0){utag.link({"event_name":"rob_start_etransfer_send"});etstarted=1;}});}}else if(!!pagePath&&pagePath.indexOf("billpayments_paymentcompletion")>-1){if(!!persistentStorage.readCookie("mcu_rob_bpt")){persistentStorage.writeCookie("mcu_rob_bpt","1",0);var successfulpayments=document.querySelectorAll(".citrus");var product_sku=[],product_variant=[],product_category=[],product_price=[],product_quantity=[];var transactionrevenue=0;var baseProductCategory="Bill payment";var billspaid=0;for(var i=0;i<successfulpayments.length;i++){var paymentinfo=successfulpayments[i].parentElement;var message=paymentinfo.innerText.toLowerCase().trim();var messagepieces=paymentinfo.querySelectorAll(".complete-text > span");var referencenumber=undefined;var successmessage=undefined;var paymentfrequency=undefined;var paymentamount=undefined;var paymentdate=undefined;var productquantity=1;var secondaryProductCategory="One time";if(messagepieces.length==2){successmessage=messagepieces[0].innerText.trim();var referencenumberpieces=messagepieces[1].innerText.split(":",2);if(!!referencenumberpieces&&referencenumberpieces.length==2){referencenumber=referencenumberpieces[1].trim();}}
if(!!paymentinfo){var paymentamountElem=paymentinfo.querySelector(".amount label:nth-child(2)");var paymentdateElem=paymentinfo.querySelector(".date label:nth-child(2)");var paymentfrequencyElem=paymentinfo.querySelector(".freq label:nth-child(2)");var todaysDate=new Date();if(!!paymentamountElem){paymentamount=paymentamountElem.innerText.replace("$","").replace(",","").trim();paymentamount=+paymentamount;paymentamount=paymentamount.toFixed(2);transactionrevenue+=+paymentamount;}
if(!!paymentdateElem){paymentdate=paymentdateElem.innerText.trim();var paymentDate=new Date(paymentdate);if(!paymentfrequencyElem&&paymentDate.getTime()>todaysDate.getTime()){secondaryProductCategory="Scheduled";}}
if(!!paymentfrequencyElem){paymentfrequency=paymentfrequencyElem.innerText.trim();secondaryProductCategory="Recurring";}else{paymentfrequency=todaysDate.getFullYear()+"-"+pad(todaysDate.getMonth()+1)+"-"+pad(todaysDate.getDate());}
if(!!paymentamount&&!!referencenumber&&!!paymentdate){product_sku.push(referencenumber);product_category.push(baseProductCategory+"/"+secondaryProductCategory);product_variant.push(paymentfrequency);product_price.push(paymentamount);product_quantity.push(productquantity);billspaid++;}}}
if(billspaid>0){var transactionid=new Date().getTime()+""+(Math.floor(Math.random()*90000)+10000);transactionrevenue=+transactionrevenue;transactionrevenue=transactionrevenue.toFixed(2);utag.link({"event_name":"rob_bill_payment_complete","ecommerce_transaction_id":transactionid,"ecomm_revenue":transactionrevenue,"product_sku":product_sku,"product_variant":product_variant,"product_category":product_category,"product_price":product_price,"product_quantity":product_quantity,"cm8":""+transactionrevenue,"cm9":""+billspaid});}
var paymenterrors=document.querySelectorAll(".dark-orange");for(var i=0;i<paymenterrors.length;i++){var paymentinfo=paymenterrors[i].querySelector(".complete-text");var errormessage=paymentinfo.innerText.trim().substr(0,100);if(!!paymentinfo){utag.link({"event_name":"rob_bill_payment_error","event_label":errormessage,"error_message":errormessage});}}}}else if(!!pagePath&&pagePath.indexOf("transfers_transferreview")>-1){var submit=document.querySelector("input[type=submit]");submit.addEventListener("click",function(){persistentStorage.writeCookie("mcu_rob_tt","1",tokencookieexpiry);});}else if(!!pagePath&&pagePath.indexOf("transfers_transfercompletion")>-1){if(!!persistentStorage.readCookie("mcu_rob_tt")){persistentStorage.writeCookie("mcu_rob_tt","1",0);var successfultransfers=document.querySelectorAll(".citrus");var product_sku=[],product_variant=[],product_category=[],product_price=[],product_quantity=[];var transactionrevenue=0;var baseProductCategory="Transfer";var transferspaid=0;for(var i=0;i<successfultransfers.length;i++){var transferinfo=successfultransfers[i].parentElement;var message=transferinfo.innerText.toLowerCase().trim();var messagepieces=transferinfo.querySelectorAll(".complete-text > span");var referencenumber=undefined;var successmessage=undefined;var transferfrequency=undefined;var transferamount=undefined;var transferdate=undefined;var productquantity=1;var secondaryProductCategory="One time";if(messagepieces.length==2){successmessage=messagepieces[0].innerText.trim();var referencenumberpieces=messagepieces[1].innerText.split(":",2);if(!!referencenumberpieces&&referencenumberpieces.length==2){referencenumber=referencenumberpieces[1].trim();}}
if(!!transferinfo){var transferamountElem=transferinfo.querySelector(".amount-column label:nth-child(2)");var transferdateElem=transferinfo.querySelector(".date-column label:nth-child(2)");var transferfrequencyElem=transferinfo.querySelector(".recurring-column label:nth-child(2)");var todaysDate=new Date();if(!!transferamountElem){transferamount=transferamountElem.innerText.replace("$","").replace(",","").trim();transferamount=+transferamount;transferamount=transferamount.toFixed(2);transactionrevenue+=+transferamount;}
if(!!transferdateElem){transferdate=transferdateElem.innerText.trim();var transferDate=new Date(transferdate);if(!transferfrequencyElem&&transferDate.getTime()>transferDate.getTime()){secondaryProductCategory="Scheduled";}}
if(!!transferfrequencyElem){transferfrequency=transferfrequencyElem.innerText.trim();secondaryProductCategory="Recurring";}else{paymentfrequency=todaysDate.getFullYear()+"-"+pad(todaysDate.getMonth()+1)+"-"+pad(todaysDate.getDate());}
if(!!transferamount&&!!referencenumber&&!!transferdate){product_sku.push(referencenumber);product_category.push(baseProductCategory+"/"+secondaryProductCategory);product_variant.push(transferfrequency);product_price.push(transferamount);product_quantity.push(productquantity);transferspaid++;}}}
if(transferspaid>0){var transactionid=new Date().getTime()+""+(Math.floor(Math.random()*90000)+10000);transactionrevenue=+transactionrevenue;transactionrevenue=transactionrevenue.toFixed(2);utag.link({"event_name":"rob_transfer_complete","ecommerce_transaction_id":transactionid,"ecomm_revenue":transactionrevenue,"product_sku":product_sku,"product_variant":product_variant,"product_category":product_category,"product_price":product_price,"product_quantity":product_quantity,"cm12":""+transactionrevenue,"cm13":""+transferspaid});}
var transfererrors=document.querySelectorAll(".dark-orange");for(var i=0;i<transfererrors.length;i++){var transferinfo=transfererrors[i].querySelector(".complete-text");var errormessage=transferinfo.innerText.trim().substr(0,100);if(!!transferinfo){utag.link({"event_name":"rob_transfer_error","event_label":errormessage,"error_message":errormessage});}}}}else if(!!pagePath&&pagePath.indexOf("emt_sendconfirmation")>-1){var submit=document.querySelector("input[type=submit]");submit.addEventListener("click",function(){persistentStorage.writeCookie("mcu_rob_ett","1",tokencookieexpiry);});}else if(!!pagePath&&pagePath.indexOf("emt_sendcompleted")>-1){if(!!persistentStorage.readCookie("mcu_rob_ett")){persistentStorage.writeCookie("mcu_rob_ett","1",0);var successfuletransfers=document.querySelectorAll(".citrus");var product_sku=[],product_variant=[],product_category=[],product_price=[],product_quantity=[];var transactionrevenue=0;var baseProductCategory="e-Transfer";var etransferspaid=0;for(var i=0;i<successfuletransfers.length;i++){var etransferinfo=successfuletransfers[i].parentElement;var message=etransferinfo.innerText.toLowerCase().trim();var messagepieces=etransferinfo.querySelectorAll(".complete-text > span");var referencenumber=undefined;var successmessage=undefined;var productvariant="sent";var etransferamount=undefined;var etransferdate=undefined;var productquantity=1;var secondaryProductCategory="One time";if(messagepieces.length==2){successmessage=messagepieces[0].innerText.trim();var referencenumberpieces=messagepieces[1].innerText.split(":",2);if(!!referencenumberpieces&&referencenumberpieces.length==2){referencenumber=referencenumberpieces[1].trim();}}
if(!!etransferinfo){var etransferamountElem=etransferinfo.querySelector(".transfer-details .row .hide-for-tablet label:nth-child(2)");if(!!etransferamountElem){etransferamount=etransferamountElem.innerText.replace("$","").replace(",","").trim();etransferamount=+etransferamount;etransferamount=etransferamount.toFixed(2);transactionrevenue+=+etransferamount;}
if(!!etransferamount&&!!referencenumber){product_sku.push(referencenumber);product_category.push(baseProductCategory+"/"+secondaryProductCategory);product_variant.push(productvariant);product_price.push(etransferamount);product_quantity.push(productquantity);etransferspaid++;}}}
if(etransferspaid>0){var transactionid=new Date().getTime()+""+(Math.floor(Math.random()*90000)+10000);var today=new Date();etransferdate=today.getFullYear()+"-"+pad(today.getMonth()+1)+"-"+pad(today.getDate());transactionrevenue=+transactionrevenue;transactionrevenue=transactionrevenue.toFixed(2);utag.link({"event_name":"rob_etransfer_send_complete","ecommerce_transaction_id":referencenumber,"ecomm_revenue":transactionrevenue,"product_sku":product_sku,"product_variant":product_variant,"product_category":product_category,"product_price":product_price,"product_quantity":product_quantity,"cm15":transactionrevenue,"cd34":etransferdate});}
var etransfererrors=document.querySelectorAll(".dark-orange");for(var i=0;i<etransfererrors.length;i++){var etransferinfo=etransfererrors[i].querySelector(".complete-text");var errormessage=etransferinfo.innerText.trim().substr(0,100);if(!!etransferinfo){utag.link({"event_name":"rob_etransfer_send_error","event_label":errormessage,"error_message":errormessage});}}}}else if(!!pagePath&&pagePath.indexOf("emt_receiveauthenticate")>-1){utag.link({"event_name":"rob_start_etransfer_receive"});}else if(!!pagePath&&pagePath.indexOf("emt_receiveconfirm")>-1){var submit=document.querySelector("input[type=submit]");submit.addEventListener("click",function(){persistentStorage.writeCookie("mcu_rob_etrt","1",tokencookieexpiry);});}else if(!!pagePath&&pagePath.indexOf("emt_receiveacceptcompleted")>-1){if(!!persistentStorage.readCookie("mcu_rob_etrt")){persistentStorage.writeCookie("mcu_rob_etrt","1",0);var successfuletransfers=document.querySelectorAll(".citrus");var product_sku=[],product_variant=[],product_category=[],product_price=[],product_quantity=[];var transactionrevenue=0;var baseProductCategory="e-Transfer";var etransfersreceived=0;for(var i=0;i<successfuletransfers.length;i++){var etransferinfo=successfuletransfers[i].parentElement;var message=etransferinfo.innerText.toLowerCase().trim();var messagepieces=etransferinfo.querySelectorAll(".complete-text > span");var referencenumber=undefined;var successmessage=undefined;var productvariant="received";var etransferamount=undefined;var etransferdate=undefined;var productquantity=1;var secondaryProductCategory="One time";if(messagepieces.length==2){successmessage=messagepieces[0].innerText.trim();var referencenumberpieces=messagepieces[1].innerText.split(":",2);if(!!referencenumberpieces&&referencenumberpieces.length==2){referencenumber=referencenumberpieces[1].trim();}}
var etransferinforows=document.querySelectorAll(".emtaccept-wrapper .row .emtaccept-column-right");if(etransferinforows.length>=3){etransferamount=+etransferinforows[2].innerText.replace("$","").replace(",","").trim();if(etransferamount>0){etransferamount=+etransferamount;etransferamount=etransferamount.toFixed(2);transactionrevenue+=+etransferamount;if(!!etransferamount&&!!referencenumber){product_sku.push(referencenumber);product_category.push(baseProductCategory+"/"+secondaryProductCategory);product_variant.push(productvariant);product_price.push(etransferamount);product_quantity.push(productquantity);etransfersreceived++;}}}}
if(etransfersreceived>0){var transactionid=new Date().getTime()+""+(Math.floor(Math.random()*90000)+10000);var today=new Date();etransferdate=today.getFullYear()+"-"+pad(today.getMonth()+1)+"-"+pad(today.getDate());transactionrevenue=+transactionrevenue;transactionrevenue=transactionrevenue.toFixed(2);utag.link({"event_name":"rob_etransfer_receive_complete","ecommerce_transaction_id":referencenumber,"ecomm_revenue":transactionrevenue,"product_sku":product_sku,"product_variant":product_variant,"product_category":product_category,"product_price":product_price,"product_quantity":product_quantity,"cm15":""+transactionrevenue,"cd34":etransferdate});}
var etransfererrors=document.querySelectorAll(".dark-orange");for(var i=0;i<etransfererrors.length;i++){var etransferinfo=etransfererrors[i].querySelector(".complete-text");var errormessage=etransferinfo.innerText.trim().substr(0,100);if(!!etransferinfo){utag.link({"event_name":"rob_etransfer_receive_error","event_label":errormessage,"error_message":errormessage});}}}}else if(!!pagePath&&pagePath.indexOf("products_depositprocess")>-1){var errorelem=document.querySelector(".card-error");var errormsg=errorelem.innerText.trim().substr(0,100);if(!!errorelem){utag.link({"event_name":"rob_open_account_error","error_message":errormsg,"event_label":errormsg});}}});})()}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((typeof utag.data['dom.domain']!='undefined'&&utag.data['dom.domain'].toString().toLowerCase().indexOf('lending.meridiancu.ca'.toLowerCase())>-1)){var mortgagesubmitbtn=document.querySelector(".orangeBtn");if(!!mortgagesubmitbtn){mortgagesubmitbtn.addEventListener('click',function(){var get_email=document.getElementById("Applicant_Email");var pwelem=document.getElementById("Applicant_Password");var confirmpwelem=document.getElementById("Applicant_ConfirmPassword");if(pwelem!==null&&!!pwelem.value&&confirmpwelem!==null&&!!confirmpwelem.value&&get_email!==null&&!!get_email.value){var enc=CryptoJS.AES.encrypt(get_email.value,'0733865324').toString();utag.link({"event_category":"Mortgages","event_action":"Create Profile","event_label":enc,"event_value":"1","event_non_interaction":0});}});}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(/uatbanking\.meridiancu\.ca|banking\.meridiancu\.ca/.test(utag.data['js_page.document.location.hostname'])){(function(){window.addEventListener("load",function(){var pagePath=window.location.pathname.toLowerCase();if(!!pagePath&&pagePath.indexOf("messages_inbox")>-1){}else if(!!pagePath&&(pagePath.indexOf("messages_view")>-1)){var successmsg=document.querySelector(".card-success .message-title");if(!!successmsg&&successmsg.innerText.indexOf("message has been sent")){var messagebody=document.querySelector(".message-reply-body");var subject=document.querySelector("header.card-content h1");if(!!messagebody&&messagebody.innerText.indexOf("Telephone:")>-1&&messagebody.innerText.indexOf("Preferred Time:")>-1&&!!subject&&subject.innerText.indexOf("Contact Us Request Submitted")>-1){utag.link({"event_name":"rob_contact_us_call_request"});}else{utag.link({"event_name":"rob_send_secure_message"});}}}else if(!!pagePath&&pagePath.indexOf("alerts_managealerts")>-1){var successmsg=document.querySelector(".card-success .message-title");if(!!successmsg){utag.link({"event_name":"rob_update_alerts"});}}else if(!!pagePath&&pagePath.indexOf("statements_registrationsetup")>-1){var submitbutton=document.querySelector("form input[type='submit']");if(!!submitbutton){submitbutton.addEventListener("click",function(){utag.link({"event_name":"rob_signup_online_statements"});});}}else if(!!pagePath&&pagePath.indexOf("statements_registrationupdate")>-1){var submitbutton=document.querySelector("form input[type='submit']");var statementAlertToggle=document.querySelector("input.on-off-toggle");var originalToggleVal=undefined;var cmIndex="cm21";if(!!statementAlertToggle){originalToggleVal=statementAlertToggle.checked;}
if(!!submitbutton){submitbutton.addEventListener("click",function(){if(!!statementAlertToggle){if(originalToggleVal!==statementAlertToggle.checked){var toggleVal="On";if(!statementAlertToggle.checked){cmIndex="cm22";toggleVal="Off";}
var dataObj={"event_name":"rob_online_statment_alerts_update","event_label":toggleVal};dataObj[cmIndex]=1;utag.link(dataObj);}}});}}else if(!!pagePath&&pagePath.indexOf("transfers_transfersetup")>-1){}else if(!!pagePath&&pagePath.indexOf("transfers_linkaccount")>-1){var moneymoverlinks=document.querySelectorAll("a[href*='moneymoverform']");for(var i=0;i<moneymoverlinks.length;i++){moneymoverlinks[i].addEventListener("click",function(e){e.preventDefault();var href=this.href;utag.link({"event_name":"rob_external_bank_link_click_step1"},function(){window.location=href;});});}}});})()}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{if(typeof utag.runonce=='undefined')utag.runonce={};utag.jdh=function(h,i,j,k){h=utag.jdhc.length;if(h==0)window.clearInterval(utag.jdhi);else{for(i=0;i<h;i++){j=utag.jdhc[i];k=jQuery(j.i).is(":visible")?1:0;if(k!=j.s){if(j.e==(j.s=k))jQuery(j.i).trigger(j.e?"afterShow":"afterHide")}}}};utag.jdhi=window.setInterval(utag.jdh,250);utag.jdhc=[];if(utag.data['js_page.document.location.hostname'].toString().indexOf('banking.meridiancu.ca')>-1||/Messages_Inbox/i.test(utag.data['dom.pathname'])){if(typeof utag.runonce[120]=='undefined'){utag.runonce[120]=1;jQuery(document.body).on('click','.message-table .unread a[data-href*="Messages_View"]',function(e){utag.link({"event_name":"rob_read_secure_message"});})}}}catch(e){utag.DB(e)};try{try{if(utag.data['js_page.document.location.hostname'].toString().indexOf('banking.meridiancu.ca')>-1){window.addEventListener("load",function(){var findAncestorByClass=function(elem,cn,maxdepth){currentelem=elem.parentElement;currentdepth=0;maxdepth=+maxdepth;while(currentdepth<maxdepth){if(!!currentelem){var child=currentelem.querySelector("."+cn);if(!!child){return child;}else{currentelem=currentelem.parentElement;}}
currentdepth++;}};var pathname=window.location.pathname.toLowerCase();if(!!pathname&&pathname.indexOf("forgotpassword_change")>-1){var successmessage=document.querySelector(".reset-password-success-message");if(!!successmessage&&successmessage.innerText.trim().length>0){utag.link({"event_name":"rob_password_reset","event_label":"Success","cm31":"1"});}}else if(!!pathname&&pathname.indexOf("statements_index")>-1){var printbtn=document.querySelector("a[onclick*='window.print']");printbtn.addEventListener("click",function(){utag.link({"event_name":"rob_transactions_statement_print"});});}else if(!!pathname&&pathname.indexOf("security_autologin")>-1){var errormessage=document.querySelector(".signin-form .message-list");if(!!errormessage&&errormessage.innerText.trim().length>0){utag.link({"event_name":"rob_login_fail","event_label":errormessage.innerText.trim().substr(0,100),"cd33":errormessage.innerText.trim().substr(0,100)});}}else if(!!pathname&&pathname.indexOf("accounts_accountsummary")>-1){var acctType=undefined;setInterval(function(){var newlistoptions=document.querySelectorAll(".ui-selectmenu-open ul[role='listbox'] li.ui-menu-item div[role='option']:not([data-tiq-haslistener])");var test2=document.querySelector("span.ui-selectmenu-button-open");if(!!test2){var openMenuAcctType=findAncestorByClass(test2,"account-category",5);if(!!openMenuAcctType){acctType=openMenuAcctType.innerText.trim();}}
for(var i=0;i<newlistoptions.length;i++){if(newlistoptions[i].innerText=="Direct Deposit Form"){newlistoptions[i].setAttribute("data-tiq-haslistener","true");newlistoptions[i].addEventListener("click",function(){utag.link({"event_name":"rob_home_quick_action","event_action":"Direct Deposit Form","event_label":acctType});});}}},300);}});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{if((utag.data['js_page.document.location.hostname'].toString().indexOf('banking.meridiancu.ca')>-1&&/Accounts_AccountSummary/i.test(utag.data['dom.pathname']))){if(typeof utag.runonce[133]=='undefined'){utag.runonce[133]=1;jQuery(document.body).on('click','#foreign-exchange-calculator input[type="submit"]',function(e){var amt=document.querySelector("#AmountEntered");var currency=document.querySelector("#CurrencyCode-button .ui-selectmenu-text");if(!!amt&&amt.value.length>0&&!!currency){utag.link({"event_name":"rob_foreign_exchange_calculator_submit","event_label":currency.innerText.trim()});}})}}}catch(e){utag.DB(e)};try{if((utag.data['js_page.document.location.hostname'].toString().indexOf('banking.meridiancu.ca')>-1&&/Accounts_Transactions/i.test(utag.data['dom.pathname']))){if(typeof utag.runonce[134]=='undefined'){utag.runonce[134]=1;jQuery(document.body).on('click','#transaction-print-button',function(e){utag.link({"event_name":"rob_transactions_history_print"});})}}}catch(e){utag.DB(e)};try{if(utag.data['js_page.document.location.hostname'].toString().indexOf('banking.meridiancu.ca')>-1){if(typeof utag.runonce[135]=='undefined'){utag.runonce[135]=1;jQuery(document.body).on('click','a[href*="Statements_GetStatement"]',function(e){var linkelem=this;var statementdate=undefined;linkelem=linkelem.parentElement;if(!!linkelem){linkelem=linkelem.parentElement;if(!!linkelem){linkelem=linkelem.querySelector(".stat-col-statement");if(!!linkelem){statementdate=linkelem.innerText.trim();}}}
if(!!statementdate){utag.link({"event_name":"rob_transactions_statement_download","event_action":"Statement: "+statementdate});}})}}}catch(e){utag.DB(e)};try{if((utag.data['js_page.document.location.hostname'].toString().indexOf('banking.meridiancu.ca')>-1&&/ForgotPassword_(Setup|Challenge)/i.test(utag.data['dom.pathname']))){if(typeof utag.runonce[136]=='undefined'){utag.runonce[136]=1;utag.jdhc.push({i:'label.error, .signin-form .message-list',e:1});jQuery(document.body).on('afterShow','label.error, .signin-form .message-list',function(e){if(jQuery('label.error, .signin-form .message-list').is(':visible')){utag.link({"event_name":"rob_password_reset","event_label":"Failure","cm32":"1"});}})}}}catch(e){utag.DB(e)};try{try{if(1){window.addEventListener("load",function(){var findAncestorByClass=function(elem,cn,maxdepth){currentelem=elem.parentElement;currentdepth=0;maxdepth=+maxdepth;while(currentdepth<maxdepth){if(!!currentelem){var child=currentelem.querySelector("."+cn);if(!!child){return child;}else{currentelem=currentelem.parentElement;}}
currentdepth++;}};var pathname=window.location.pathname.toLowerCase();if(!!pathname&&(pathname.indexOf("emt_sendcompleted")>-1||pathname.indexOf("emt_receiveacceptcompleted")>-1)){var printbtn=document.querySelector("a[onclick*='window.print']");if(!!printbtn){printbtn.addEventListener("click",function(){utag.link({"event_name":"rob_reference_page_print"});});}}
if(!!pathname&&pathname.indexOf("accounts_transactions")>-1){setInterval(function(){var newoptions=document.querySelectorAll("#ExportAsField-menu [role='option']:not([data-tiq-haslistener])");for(var i=0;i<newoptions.length;i++){if(newoptions[i].innerText!=="Select"){newoptions[i].setAttribute("data-tiq-haslistener","true");newoptions[i].addEventListener("click",function(){utag.link({"event_name":"rob_transaction_history_download","event_action":"Transaction History: "+this.innerText.trim()});});}}},200);var renamesubmit=document.querySelector("#rename-account-form #rename-editor-submit");if(!!renamesubmit){renamesubmit.addEventListener("click",function(){utag.link({"event_name":"rob_account_rename"});});}}
if(!!pathname&&pathname.indexOf("accounts_accountsummary")>-1){var lastState=false;setInterval(function(){var helpers=document.querySelectorAll(".ui-sortable-helper");if(helpers.length>0){lastState=true;}else if(helpers.length==0&&lastState==true){lastState=false;utag.link({"event_name":"rob_account_reorder"});}},1000);}});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['js_page.document.location.hostname'].toString().indexOf('banking.meridiancu.ca')>-1){window.addEventListener("load",function(){var findAncestorByClass=function(elem,cn,maxdepth){currentelem=elem.parentElement;currentdepth=0;maxdepth=+maxdepth;while(currentdepth<maxdepth){if(!!currentelem){var child=currentelem.querySelector("."+cn);if(!!child){return child;}else{currentelem=currentelem.parentElement;}}
currentdepth++;}};var findAncestorByType=function(elem,type,maxdepth){currentelem=elem.parentElement;currentdepth=0;maxdepth=+maxdepth;while(currentdepth<maxdepth){if(!!currentelem){var child=currentelem.querySelector(type);if(!!child){return child;}else{currentelem=currentelem.parentElement;}}
currentdepth++;}};var pathname=window.location.pathname.toLowerCase();if(!!pathname&&pathname.indexOf("accounts_accountsummary")>-1){var acctbuckettoggles=document.querySelectorAll(".account-buckets > .togglable-category");for(var i=0;i<acctbuckettoggles.length;i++){acctbuckettoggles[i].addEventListener("click",function(){utag.link({"event_name":"rob_account_type_filter","event_label":this.getAttribute("data-category")})});}
var sidelinks=document.querySelectorAll("#featured-rates-label, .authorized-sidebar-side .account-actions-sidebar a, .authorized-sidebar-side #featured-rates a, .authorized-sidebar-side #add-account-link");for(var i=0;i<sidelinks.length;i++){sidelinks[i].addEventListener("click",function(){utag.link({"event_name":"rob_sidebar_action_link_click","event_label":this.innerText.trim()})});}}});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['js_page.document.location.hostname'].toString().indexOf('banking.meridiancu.ca')>-1){(function(){window.addEventListener("load",function(){var urlcookieexpiry=(1000*60*30);var pagePath=window.location.pathname.toLowerCase();if(!!persistentStorage.readCookie("rob_c_url")){console.log(persistentStorage.readCookie("rob_c_url"));persistentStorage.writeCookie("rob_p_url",persistentStorage.readCookie("rob_c_url"),urlcookieexpiry);}
persistentStorage.writeCookie("rob_c_url",window.location.href,urlcookieexpiry);if(!!pagePath&&pagePath.indexOf("products_setup")>-1&&!!persistentStorage.readCookie("rob_p_url")&&persistentStorage.readCookie("rob_p_url").toLowerCase().indexOf("products_selectproduct")>-1){var producttitleelem=document.querySelector("#ProductName");var producttitle="(not set)";if(!!producttitleelem){producttitle=producttitleelem.value;}
utag.link({"event_name":"rob_account_open_start","event_action":producttitle});}});})()}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){var lccookieexpiry=(1000*60*60*24*730);document.addEventListener("click",function(){var currentTimestamp=new Date().getTime();persistentStorage.writeCookie("rob_lc",currentTimestamp,lccookieexpiry);persistentStorage.writeCookie("rob_stoptracking","",0);});var scrollTimer,lastScrollFireTime=0;document.addEventListener("scroll",function(){var minScrollTime=1000;var now=new Date().getTime();function processScroll(){var currentTimestamp=new Date().getTime();persistentStorage.writeCookie("rob_lc",currentTimestamp,lccookieexpiry);persistentStorage.writeCookie("rob_stoptracking","",0);}
if(!scrollTimer){if(now-lastScrollFireTime>(3*minScrollTime)){processScroll();lastScrollFireTime=now;}
scrollTimer=setTimeout(function(){scrollTimer=null;lastScrollFireTime=new Date().getTime();processScroll();},minScrollTime);}});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((/^(www\.)?meridiancu\.ca/.test(utag.data['js_page.document.location.hostname'])&&utag.data['dom.pathname'].toString().toLowerCase()=='/Contact-Us/thank-you-(1).aspx'.toLowerCase())){var cookieVal=persistentStorage.readCookie("mcu_fss_token");if(!!cookieVal){utag.link({"event_name":"formSubmitSuccess","event_category":"Forms","event_action":"Submit","event_label":cookieVal});persistentStorage.writeCookie("mcu_fss_token","Small-Business/BAP Boost Inquiry",0);}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((/^(www\.)?meridiancu\.ca/.test(utag.data['js_page.document.location.hostname'])&&utag.data['dom.pathname'].toString().toLowerCase()=='/Small-Business/Small-Business-Investing/Products-and-Account-Types/BAP-Boost.aspx'.toLowerCase())){setTimeout(function(){var submitButton=document.querySelector("#p_lt_ctl08_pageplaceholder_p_lt_ctl00_ContentFlexibleColumnRow4_ContentFlexibleColumnRow4_1_BusinessForm_businessFormBox a.button");if(!!submitButton){submitButton.addEventListener("click",function(){var cookieExpiry=1000*60*2;persistentStorage.writeCookie("mcu_fss_token","Small-Business/BAP Boost Inquiry",cookieExpiry);});}},1000);}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(/((lending|join|www)\.)?meridiancu\.ca/i.test(utag.data['dom.domain'])||/uatbanking\.meridiancu\.ca/i.test(utag.data['dom.domain'])){var expiry=(1000*60*60*24);if((window.location.href.toLowerCase().indexOf("uatbanking.meridiancu.ca/omo/omoui")>-1||window.location.hostname.toLowerCase().indexOf("join.meridiancu.ca")>-1)&&window.location.href.toLowerCase().indexOf("productids")>-1){var productIds="";var paramStart=window.location.href.toLowerCase().indexOf("productids=");var partialurl=window.location.href.toLowerCase().substr((paramStart+11));var paramEnd=partialurl.indexOf("&");if(paramEnd!=-1){partialurl=partialurl.substr(0,paramEnd);}
partialurl=partialurl.replace("%3b",";");partialurl=partialurl.replace(";",",");productIds=partialurl;persistentStorage.writeCookie("mcu_omo_pids",productIds,expiry);}else if(window.location.href.toLowerCase().indexOf("uatbanking.meridiancu.ca")>-1||window.location.hostname.toLowerCase().indexOf("meridiancu.ca")>-1){var lendinganchors=document.querySelectorAll("a[href*='/SelectProduct?productId=']");for(var i=0;i<lendinganchors.length;i++){lendinganchors[i].addEventListener("click",function(){var productId="";var paramStart=this.getAttribute("href").toLowerCase().indexOf("productid=");var partialurl=this.getAttribute("href").toLowerCase().substr((paramStart+10));var paramEnd=partialurl.indexOf("&");if(paramEnd!=-1){partialurl=partialurl.substr(0,paramEnd);}
productId=partialurl;persistentStorage.writeCookie("mcu_dl_pids",productId,expiry);});}
var lendingPseudoAnchors=document.querySelectorAll("div.application-type[onclick*='productId=']");for(var i=0;i<lendingPseudoAnchors.length;i++){lendingPseudoAnchors[i].addEventListener("click",function(){var productId="";var paramStart=this.getAttribute("onclick").toLowerCase().indexOf("productid=");var partialurl=this.getAttribute("href").toLowerCase().substr((paramStart+10));var paramEnd=partialurl.indexOf("&");if(paramEnd!=-1){partialurl=partialurl.substr(0,paramEnd);}
partialurl.replace("'","");productId=partialurl;persistentStorage.writeCookie("mcu_dl_pids",productId,expiry);});}}else if((window.location.href.toLowerCase().indexOf("uatbanking.meridiancu.ca/omo/lending")>-1||window.location.hostname.toLowerCase().indexOf("lending.meridiancu.ca")>-1)&&window.location.href.toLowerCase.indexOf("productid")==-1){persistentStorage.writeCookie("mcu_dl_pids","mortgage",expiry);}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(/(lending|loans)\.meridiancu\.ca/i.test(utag.data['dom.domain'])||/uatbanking\.meridiancu\.ca|meridian-uat\.poweredbygrow\.com/i.test(utag.data['dom.domain'])){var lendingstep2elem=document.querySelector("a[data-dl-action='Step2']");if(window.location.href.match(/(lending\.meridiancu\.ca)|(uatbanking\.meridiancu\.ca)/i)!==null&&window.location.href.match(/\/CreateProfile/i)!==null&&!lendingstep2elem){utag.link({"event_name":"DLStart"});}
var ulstartinterval=setInterval(function(){if(window.location.href.match(/(loans\.meridiancu\.ca)|(meridian-uat\.poweredbygrow\.com)/i)!==null&&window.location.href.match(/\/signup\//i)!==null){utag.link({"event_name":"ULStart"});clearInterval(ulstartinterval);}},1000);}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(/(http(s)?\:\/\/(www\.)?meridiancu\.ca)|(wwwnew\.meridiancu\.ca)/i.test(utag.data['dom.url'])){var mwcookieexpiry=(1000*60*60*24);if(window.location.href.match(/meridiancu\.ca\/Personal\/Mortgages\.aspx/i)!==null){persistentStorage.writeCookie("mcu_mw","1",mwcookieexpiry);}else{persistentStorage.writeCookie("mcu_mw","",0);}
var allanchors=document.querySelectorAll("a");for(var n=0;n<allanchors.length;n++){allanchors[n].addEventListener("click",function(){persistentStorage.writeCookie("mcu_mw","",0);});}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(/(www(new)?\.)?meridiancu.ca(\/Small-Business\/Small-Business-Investing\/Products-and-Account-Types\/BAP-Boost\.aspx|\/Contact-Us\/thank-you-\(1\)\.aspx)/i.test(utag.data['dom.url'])){if(window.location.href.match(/meridiancu\.ca\/Contact-Us\/thank-you-\(1\)\.aspx/i)!==null){if(!!persistentStorage.readCookie("sbdwa_form_token")){utag.link({'event_name':'sbdwa_form_complete'});persistentStorage.writeCookie("sbdwa_form_token","",0);}
}else if(window.location.href.match(/meridiancu\.ca\/Small-Business\/Small-Business-Investing\/Products-and-Account-Types\/BAP-Boost\.aspx/i)!==null){var sbdwabutton=document.querySelector("#p_lt_ctl08_pageplaceholder_p_lt_ctl00_ContentFlexibleColumnRow4_ContentFlexibleColumnRow4_1_BusinessForm_businessFormBox a.button");if(!!sbdwabutton){sbdwabutton.addEventListener("click",function(){persistentStorage.writeCookie("sbdwa_form_token","true",(1000*60));});}}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(/(www(new)?\.)?meridiancu.ca(\/Small-Business\/Small-Business-Investing\/Products-and-Account-Types\/18-Month-GIC\.aspx|\/Contact-Us\/thank-you-\(2\)\.aspx)/i.test(utag.data['dom.url'])){if(window.location.href.match(/meridiancu\.ca\/Contact-Us\/thank-you-\(2\)\.aspx/i)!==null){if(!!persistentStorage.readCookie("sbi_18mogic_form_token")){utag.link({'event_name':'sbi_18mogic_form_complete'});persistentStorage.writeCookie("sbi_18mogic_form_token","",0);}}else if(window.location.href.match(/meridiancu\.ca\/Small-Business\/Small-Business-Investing\/Products-and-Account-Types\/18-Month-GIC\.aspx/i)!==null){var sbi18mogicSubmitButton=document.querySelector("#p_lt_ctl08_pageplaceholder_p_lt_ctl00_ContentFlexibleColumnRow4_ContentFlexibleColumnRow4_1_BusinessForm_businessFormBox a.button");if(!!sbi18mogicSubmitButton){sbi18mogicSubmitButton.addEventListener("click",function(){persistentStorage.writeCookie("sbi_18mogic_form_token","true",(1000*60));});}}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(/(www(new)?\.)?meridiancu\.ca/.test(utag.data['dom.domain'])){var $CICS=window.$CICS||{};$CICS.generic=$CICS.generic||{};Array.prototype.filter||(Array.prototype.filter=function(c){if(void 0===this||null===this)throw new TypeError;var b=Object(this),f=b.length>>>0;if("function"!==typeof c)throw new TypeError;for(var d=[],g=2<=arguments.length?arguments[1]:void 0,a=0;a<f;a++)if(a in b){var e=b[a];c.call(g,e,a,b)&&d.push(e)}return d});$CICS.internalPromos={settings:{useDataAttributes:false,skipQueryKeys:false,useSimpleViewTracking:false,timeOnScreen:1000,percentVisible:80,viewPortOccupied:1,sendDataInterval:1000,sendDataMaxIncrement:120,stopIntervalCheck:0,throttleInterval:200,fallbackInterval:1000,fallbackDataMaxIncrement:120},queryKeys:{name:["ip_name"],id:["ip_id"],position:["ip_pos"],creative:["ip_cr"]},dataAttributes:{name:["data-promo-name"],id:["data-promo-id"],position:["data-promo-position"],creative:["data-promo-creative"]}};$CICS.generic.pageURL=$CICS.generic.pageURL||window.location.href;$CICS.generic.topMenuHeight=$CICS.generic.topMenuHeight||0;(function(){Event.prototype.preventDefault||(Event.prototype.preventDefault=function(){this.returnValue=!1});Event.prototype.stopPropagation||(Event.prototype.stopPropagation=function(){this.cancelBubble=!0});if(!Element.prototype.addEventListener){var f=[],c=function(b,g){var d=this,a=function(a){a.target=a.srcElement;a.currentTarget=d;"undefined"!=typeof g.handleEvent?g.handleEvent(a):g.call(d,a)};if("DOMContentLoaded"==b){var c=function(b){"complete"==document.readyState&&a(b)};document.attachEvent("onreadystatechange",c);f.push({object:this,type:b,listener:g,wrapper:c});if("complete"==document.readyState){var e=new Event;e.srcElement=window;c(e)}}else this.attachEvent("on"+b,a),f.push({object:this,type:b,listener:g,wrapper:a})},e=function(b,c){for(var d=0;d<f.length;){var a=f[d];if(a.object==this&&a.type==b&&a.listener==c){"DOMContentLoaded"==b?this.detachEvent("onreadystatechange",a.wrapper):this.detachEvent("on"+b,a.wrapper);f.splice(d,1);break}++d}};Element.prototype.addEventListener=c;Element.prototype.removeEventListener=e;HTMLDocument&&(HTMLDocument.prototype.addEventListener=c,HTMLDocument.prototype.removeEventListener=e);Window&&(Window.prototype.addEventListener=c,Window.prototype.removeEventListener=e)}})();Array.prototype.forEach||(Array.prototype.forEach=function(c,f){var d,a;if(null===this)throw new TypeError(" this is null or not defined");var b=Object(this),g=b.length>>>0;if("function"!==typeof c)throw new TypeError(c+" is not a function");1<arguments.length&&(d=f);for(a=0;a<g;){var e;a in b&&(e=b[a],c.call(d,e,a,b));a++}});(function(){var f=Array.prototype.slice;try{f.call(document.documentElement)}catch(h){Array.prototype.slice=function(g,b){b="undefined"!==typeof b?b:this.length;if("[object Array]"===Object.prototype.toString.call(this))return f.call(this,g,b);var a,e=[],c;a=this.length;var d=g||0,d=0<=d?d:Math.max(0,a+d);c="number"==typeof b?Math.min(b,a):a;0>b&&(c=a+b);c-=d;if(0<c)if(e=Array(c),this.charAt)for(a=0;a<c;a++)e[a]=this.charAt(d+a);else for(a=0;a<c;a++)e[a]=this[d+a];return e}}})();Array.prototype.indexOf||(Array.prototype.indexOf=function(d,e){var a;if(null==this)throw new TypeError('"this" is null or not defined');var c=Object(this),b=c.length>>>0;if(0===b)return-1;a=e|0;if(a>=b)return-1;for(a=Math.max(0<=a?a:b-Math.abs(a),0);a<b;){if(a in c&&c[a]===d)return a;a++}return-1});function isIE(c,d){var a="IE",b=document.createElement("B"),e=document.getElementsByTagName("head")[0];c&&(a+=" "+c,d&&(a=d+" "+a));b.innerHTML="\x3c!--[if "+a+']><b id="iecctest"></b><![endif]--\x3e';e.appendChild(b);a=!!document.getElementById("iecctest");e.removeChild(b);return a};function isIosSafari(){var a=navigator.userAgent;return-1!=a.indexOf("Safari")&&-1==a.indexOf("Chrome")&&(a.match(/iPad/i)||a.match(/iPhone/i))?!0:!1};if(!$CICS.generic.rectanglesIntersect){$CICS.generic.rectanglesIntersect=function(a,b){return(a.left<=b.right&&b.left<=a.right&&a.top<=b.bottom&&b.top<=a.bottom);};}
if(!$CICS.generic.percentVisible){$CICS.generic.percentVisible=function(element){var contentRect=element.getBoundingClientRect(),scrollY=(window.pageYOffset!==undefined)?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,viewPort={top:scrollY>$CICS.generic.topMenuHeight?0:$CICS.generic.topMenuHeight,bottom:window.innerHeight||document.documentElement.clientHeight,left:0,right:window.innerWidth||document.documentElement.clientWidth},eL=contentRect.left,eT=contentRect.top,eR=contentRect.left+contentRect.width,eB=contentRect.top+contentRect.height,vL=viewPort.left,vT=viewPort.top,vR=viewPort.left+viewPort.right,vB=viewPort.top+viewPort.bottom,x_overlap=0,y_overlap=0,visiblePercent={element:0,viewPortOccupied:0};if($CICS.generic.rectanglesIntersect(contentRect,viewPort)){x_overlap=Math.max(0,Math.min(eR,vR)-Math.max(eL,vL));y_overlap=Math.max(0,Math.min(eB,vB)-Math.max(eT,vT));visiblePercent.total=Math.round((x_overlap*y_overlap/(contentRect.width*contentRect.height))*100);visiblePercent.viewPortOccupied=Math.round((x_overlap*y_overlap/(viewPort.right*viewPort.bottom))*100);};return visiblePercent;};}
if(!String.prototype.getParamByName){String.prototype.getParamByName=function(parameterName){var regex=new RegExp("[?&]"+parameterName.replace(/[\[\]]/ig,"\\$&")+"(=([^&#]*)|&|#|$)");var results=regex.exec(this);if(!results)return null;if(!results[2])return null;return results[2].replace(/\+/ig," ");};}
$CICS.internalPromos.findPromoData=function(element,type,items){var i,x=items.length,query=element.getAttribute("href");if(!!query){for(i=0;i<x;i++){if(type==="href"&&!!query&&query.match(new RegExp(items[i],"i"))!==null){return query.getParamByName(items[i]);}else if(type==="data"&&element.getAttribute(items[i])!==null){return element.getAttribute(items[i]);}}}
return undefined;};$CICS.internalPromos.getElementPromoData=function(element){var data={},t,dataPresent=false;if(!$CICS.internalPromos.settings.skipQueryKeys){data.name=$CICS.internalPromos.findPromoData(element,"href",$CICS.internalPromos.queryKeys.name);data.id=$CICS.internalPromos.findPromoData(element,"href",$CICS.internalPromos.queryKeys.id);if(!!data.name||!!data.id){dataPresent=true;}
if(dataPresent){data.useAttributes=false;data.position=$CICS.internalPromos.findPromoData(element,"href",$CICS.internalPromos.queryKeys.position);data.creative=$CICS.internalPromos.findPromoData(element,"href",$CICS.internalPromos.queryKeys.creative);}}
if(!dataPresent&&$CICS.internalPromos.settings.useDataAttributes){data.name=$CICS.internalPromos.findPromoData(element,"data",$CICS.internalPromos.dataAttributes.name);data.id=$CICS.internalPromos.findPromoData(element,"data",$CICS.internalPromos.dataAttributes.id);if(!!data.name||!!data.id){dataPresent=true;}
if(dataPresent){data.useAttributes=true;data.position=$CICS.internalPromos.findPromoData(element,"data",$CICS.internalPromos.dataAttributes.position);data.creative=$CICS.internalPromos.findPromoData(element,"data",$CICS.internalPromos.dataAttributes.creative);}}
if(dataPresent){if(!!+element.getAttribute("data-promo-duplicate-id")){data.duplicateId=+element.getAttribute("data-promo-duplicate-id");}else{data.duplicateId=0;}
return data;}else{return undefined;}};(function IIFEtrackInternalPromos(){try{var promoData,i,x,t,elementSelector=[],internalPromotions={promos:[],duplicateId:[],count:0},lastScrollEventTimestamp,lastScrollEventVisibleElements=[],checkForDuplicates=function(elements){var pData,j,y=elements.length,checkKey,existingPromos=[],duplicates=[];for(j=0;j<y;j++){if(!!$CICS.internalPromos.getElementPromoData(elements[j])){pData=$CICS.internalPromos.getElementPromoData(elements[j]);if(!!pData.id&&!pData.name){checkKey=pData.id;}else if(!pData.id&&!!pData.name){checkKey=pData.name;}else{checkKey=pData.id+"-"+pData.name;}
if(existingPromos.indexOf(checkKey)!==-1){duplicates[checkKey]++;elements[j].setAttribute("data-promo-duplicate-id",duplicates[checkKey]);}else{existingPromos.push(checkKey);duplicates[checkKey]=0;elements[j].setAttribute("data-promo-duplicate-id",duplicates[checkKey]);}}}},addInternalPromoData=function(element){var pData,t;element=element;if(!!element&&!!$CICS.internalPromos.getElementPromoData(element)){pData=$CICS.internalPromos.getElementPromoData(element);if(!pData.duplicateId){t={name:pData.name,id:pData.id};}else{t={name:!!pData.name?pData.name+"-DUPLICATE-"+pData.duplicateId:undefined,id:!!pData.id?pData.id+"-DUPLICATE-"+pData.duplicateId:undefined};}
t.position=pData.position;t.creative=pData.creative;element.setAttribute("data-promo-label",(!!t.id?t.id:"(not set)"));}},getInternalPromoData=function(element){var pData,t;element=element;if(!!element&&!!$CICS.internalPromos.getElementPromoData(element)){pData=$CICS.internalPromos.getElementPromoData(element);if(!pData.duplicateId){t={name:pData.name,id:pData.id};}else{t={name:!!pData.name?pData.name+"-DUPLICATE-"+pData.duplicateId:undefined,id:!!pData.id?pData.id+"-DUPLICATE-"+pData.duplicateId:undefined};}
t.position=pData.position;t.creative=pData.creative;}
return t;},scrollAndResizeTimeout,scrollAndResizeThrottler=function(){if(!scrollAndResizeTimeout){scrollAndResizeTimeout=setTimeout(function(){scrollAndResizeTimeout=null;promoVisibilityHandler();},$CICS.internalPromos.settings.throttleInterval);}},onloadPromoTimeout=function(){for(var i=0;i<elementSelector.length;i++){if(elementSelector[i].onloadTimerFlag===true&&elementSelector[i].actualTimeSpent===0){var IPData=getInternalPromoData(elementSelector[i]);if(!!IPData){internalPromotions.promos.push(IPData);internalPromotions.count++;elementSelector[i].iSawIt=true;}}}},promoClick=function(e){var elemdata=getInternalPromoData(this);utag.link({'ecomm_event_action':"promo_click",'event_name':'internalPromotionClick','promoIds':[elemdata.name+"_"+elemdata.creative+"_"+elemdata.position],'promoNames':[elemdata.name],'promoCreatives':[elemdata.creative],'promoPositions':[elemdata.position],"event_label":elemdata.name});},promoVisibilityHandler=function(){var j,y=elementSelector.length,visiblePercent,timeDiff,t;var thisScrollEventVisibleElements=[];var currentTimeStamp=Date.now();var timeSinceLastScrollEvent=currentTimeStamp-lastScrollEventTimestamp;for(j=0;j<y;j++){if(!elementSelector[j].actualTimeSpent){elementSelector[j].actualTimeSpent=0;}
var elementOpacity=elementSelector[j].style.opacity;t=getInternalPromoData(elementSelector[j]);visiblePercent=$CICS.generic.percentVisible(elementSelector[j]);if(!elementSelector[j].iSawIt&&(visiblePercent.total>$CICS.internalPromos.settings.percentVisible||visiblePercent.viewPortOccupied>$CICS.internalPromos.settings.viewPortOccupied)&&elementOpacity!=="0"){thisScrollEventVisibleElements.push(JSON.stringify(t));if(lastScrollEventVisibleElements.indexOf(JSON.stringify(t))!==-1){elementSelector[j].actualTimeSpent+=timeSinceLastScrollEvent;}}
if(!elementSelector[j].iSawIt&&elementSelector[j].actualTimeSpent>$CICS.internalPromos.settings.timeOnScreen&&(visiblePercent.total>$CICS.internalPromos.settings.percentVisible||visiblePercent.viewPortOccupied>$CICS.internalPromos.settings.viewPortOccupied)&&elementOpacity!=="0"){if(!!t){internalPromotions.promos.push(t);internalPromotions.count++;elementSelector[j].iSawIt=true;}}}
lastScrollEventTimestamp=currentTimeStamp;lastScrollEventVisibleElements=thisScrollEventVisibleElements;},promoVisibilityHandlerOnLoad=function(){var j,y=elementSelector.length,visiblePercent,t;var timerFlag=false;lastScrollEventTimestamp=Date.now();for(j=0;j<y;j++){var elementOpacity=elementSelector[j].style.opacity;elementSelector[j].actualTimeSpent=0;visiblePercent=$CICS.generic.percentVisible(elementSelector[j]);if(!elementSelector[j].iSawIt&&(visiblePercent.total>$CICS.internalPromos.settings.percentVisible||visiblePercent.viewPortOccupied>$CICS.internalPromos.settings.viewPortOccupied)&&elementOpacity!=="0"){t=getInternalPromoData(elementSelector[j]);if(!!t){timerFlag=true;elementSelector[j].onloadTimerFlag=true;lastScrollEventVisibleElements.push(JSON.stringify(t));}}}
if(timerFlag===true){setTimeout(onloadPromoTimeout,$CICS.internalPromos.settings.timeOnScreen);}},pushPromoData=function(type){if(internalPromotions.count>0){if(!type){type="internalPromotionView"}else{type="internalPromotionView"}
var TiQPromoIds=[];var TiQPromoNames=[];var TiQPromoPositions=[];var TiQPromoCreatives=[];for(var x=0;x<internalPromotions.promos.length;x++){TiQPromoIds.push(internalPromotions.promos[x].name+"_"+internalPromotions.promos[x].creative+"_"+internalPromotions.promos[x].position);TiQPromoNames.push(internalPromotions.promos[x].name||"");TiQPromoPositions.push(internalPromotions.promos[x].position||"");TiQPromoCreatives.push(internalPromotions.promos[x].creative||"");}
utag.link({'ecomm_event_action':"promo_view","promoIds":TiQPromoIds,"promoNames":TiQPromoNames,"promoPositions":TiQPromoPositions,"promoCreatives":TiQPromoCreatives,"event_name":type});TiQPromoIds=[];TiQPromoNames=[];TiQPromoPositions=[];TiQPromoCreatives=[];}},sendDataAtInterval=function(){var settings=$CICS.internalPromos.settings;var updateSelector=[];if(!$CICS.internalPromos.settings.skipQueryKeys){promoData=$CICS.internalPromos.queryKeys.name;for(i=0,x=promoData.length;i<x;i++){updateSelector.push('a[href*="'+promoData[i]+'"]:not([data-tiq-found])');}
promoData=$CICS.internalPromos.queryKeys.id;for(i=0,x=promoData.length;i<x;i++){updateSelector.push('a[href*="'+promoData[i]+'"]:not([data-tiq-found])');}}
if($CICS.internalPromos.settings.useDataAttributes){promoData=$CICS.internalPromos.dataAttributes.name;for(i=0,x=promoData.length;i<x;i++){updateSelector.push("a["+promoData[i]+"]:not([data-tiq-found])");}
promoData=$CICS.internalPromos.dataAttributes.id;for(i=0,x=promoData.length;i<x;i++){updateSelector.push("a["+promoData[i]+"]:not([data-tiq-found])");}}
var newitemsNL=document.querySelectorAll(updateSelector.join(", "));for(var w=0;w<newitemsNL.length;w++){newitemsNL[w].addEventListener("click",promoClick);}
if(!!newitemsNL&&newitemsNL.length>0){var newitems=Array.prototype.slice.call(newitemsNL);elementSelector=elementSelector.concat(newitems);Array.prototype.slice.call(newitemsNL).forEach(function(item){addInternalPromoData(item);item.addEventListener("click",promoClick);item.setAttribute("data-tiq-found","true")});}
pushPromoData("timer");internalPromotions={promos:[],duplicateId:[],count:0};if(!settings.stopIntervalCheck){window.setTimeout(function(){$CICS.internalPromos.sendDataAtInterval();},$CICS.internalPromos.settings.sendDataInterval);}else if(!!settings.stopIntervalCheck&&$CICS.internalPromos.sendDataAtInterval.eventCount<settings.stopIntervalCheck){window.setTimeout(function(){$CICS.internalPromos.sendDataAtInterval();},$CICS.internalPromos.settings.sendDataInterval);}
$CICS.internalPromos.sendDataAtInterval.eventCount++;};if(!$CICS.internalPromos.settings.skipQueryKeys){promoData=$CICS.internalPromos.queryKeys.name;for(i=0,x=promoData.length;i<x;i++){elementSelector.push('a[href*="'+promoData[i]+'"]:not([data-tiq-found])');}
promoData=$CICS.internalPromos.queryKeys.id;for(i=0,x=promoData.length;i<x;i++){elementSelector.push('a[href*="'+promoData[i]+'"]:not([data-tiq-found])');}}
if($CICS.internalPromos.settings.useDataAttributes){promoData=$CICS.internalPromos.dataAttributes.name;for(i=0,x=promoData.length;i<x;i++){elementSelector.push("a["+promoData[i]+"]:not([data-tiq-found])");}
promoData=$CICS.internalPromos.dataAttributes.id;for(i=0,x=promoData.length;i<x;i++){elementSelector.push("a["+promoData[i]+"]:not([data-tiq-found])");}}
elementSelector=Array.prototype.slice.call(document.querySelectorAll(elementSelector.join(", ")));for(var w=0;w<elementSelector.length;w++){elementSelector[w].addEventListener("click",promoClick);}
Array.prototype.slice.call(elementSelector).forEach(function(item){addInternalPromoData(item);item.setAttribute("data-tiq-found","true")});if($CICS.internalPromos.settings.useSimpleViewTracking){for(i=0,x=elementSelector.length;i<x;i++){t=getInternalPromoData(elementSelector[i]);if(!!t){internalPromotions.promos.push(t);internalPromotions.count++;}}
pushPromoData("all");}else{promoVisibilityHandlerOnLoad();document.addEventListener("load",promoVisibilityHandlerOnLoad,false);document.addEventListener("scroll",scrollAndResizeThrottler,false);window.addEventListener("resize",scrollAndResizeThrottler,false);window.addEventListener("beforeunload",pushPromoData,false);document.addEventListener("DOMContentLoaded",promoVisibilityHandler,false);$CICS.internalPromos.timerCheck=setInterval(promoVisibilityHandler,$CICS.internalPromos.settings.timeOnScreen);if(isIE(8,'lte')||isIosSafari())
$CICS.internalPromos.settings.sendDataInterval=$CICS.internalPromos.settings.fallbackInterval;$CICS.internalPromos.settings.sendDataMaxIncrement=$CICS.internalPromos.settings.fallbackDataMaxIncrement;}
if(!!$CICS.internalPromos.settings.sendDataInterval){$CICS.internalPromos.sendDataAtInterval=sendDataAtInterval;$CICS.internalPromos.sendDataAtInterval.eventCount=1;window.setTimeout(function(){$CICS.internalPromos.sendDataAtInterval();},$CICS.internalPromos.settings.sendDataInterval);}}catch(e){utag.link({"event_name":"trackingScriptError","errorCategory":"/tracking-script-error/","errorAction":"internal-promo-tracking-script: "+$CICS.generic.pageURL,"errorLabel":e.stack});}})();}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};}})
if(utag.cfg.readywait||utag.cfg.waittimer){utag.loader.EV('','ready',function(a){if(utag.loader.rf==0){utag.loader.rf=1;utag.cfg.readywait=1;utag.DB('READY:utag.cfg.readywait');setTimeout(function(){utag.loader.PINIT()},utag.cfg.waittimer||1);}})}else{utag.loader.PINIT()}}