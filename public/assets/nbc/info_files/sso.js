(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.bncSsoLib={})})(this,function(a){'use strict';function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function c(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function d(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function e(a){for(var b,e=1;e<arguments.length;e++)b=null==arguments[e]?{}:arguments[e],e%2?d(b,!0).forEach(function(d){c(a,d,b[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):d(b).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}var f={BASE_URL:"BASE_URL parameter is missing.",REDIRECT_URI:"REDIRECT_URI parameter is missing.",AUTHN_ID:"AUTHN_ID parameter is missing.",CLIENT_ID:"CLIENT_ID parameter is missing.",ID_P:"ID_P is missing.",URL:"URL parameter is missing.",RESPONSE_TYPE:"RESPONSE_TYPE parameter is missing.",PARAMS:"PARAMS object is missing."},g=["id_token","access_token","error"],h=function(){var a=new Uint32Array(6),b=window.crypto||window.msCrypto;b.getRandomValues(a);var c=a.join("");return c},i=function(a,b,c,d,e,f,g){var i=g?g:h(),j=h();return"".concat(a,"/oauth2/").concat(c,"/v1/authorize?client_id=").concat(d,"&reponse_mode=fragment&response_type=").concat(f,"&scope=openid&redirect_uri=").concat(b,"&state=").concat(i,"&nonce=").concat(j,"&idp=").concat(e)},j=function(a){if(a)return g.some(function(b){return a.includes(b)});throw new Error(f.URL)};a.AuthRedirect=function a(c){var d=this;b(this,a),this.checkAndPerformRedirect=function(){var a=j(window.location.href);if(!a){var b=i(d.config.baseUrl,d.config.redirectUri,d.config.authnId,d.config.clientId,d.config.idp,d.config.responseType,d.config.state);return window.location.replace(b),!0}return!1};if(!c)throw new Error(f.PARAMS);if(!c.baseUrl)throw new Error(f.BASE_URL);if(!c.redirectUri)throw new Error(f.REDIRECT_URI);if(!c.idp)throw new Error(f.ID_P);if(!c.clientId)throw new Error(f.CLIENT_ID);if(!c.authnId)throw new Error(f.AUTHN_ID);if(!c.responseType)throw new Error(f.RESPONSE_TYPE);this.config=e({},{state:""},{},c)},Object.defineProperty(a,"__esModule",{value:!0})});
